{"version":3,"sources":["../../../src/variety/shimaguni.js"],"names":["pidlist","classbase","module","exports","pzpr","classmgr","makeCustom","MouseEvent","use","inputModes","edit","play","mouseinput_auto","this","puzzle","playmode","mousestart","mousemove","inputcell","editmode","inputborder","mouseend","notInputted","inputqnum","KeyEvent","enablemake","KeyEvent@stostone","keyDispInfo","ca","board","operate","keydown","Cell","maxnum","Math","min","room","clist","length","Cell@chocona","minnum","Cell@stostone","getFallableLength","base","stone","cell2","len","isnull","relcell","Board","hasborder","Board@shimaguni,stostone","addExtraInfo","stonegraph","addInfoList","klass","AreaStoneGraph","Board@stostone","cols","rows","falling","fallstate","initBoardSize","col","row","common","call","errclear","type","drop","hasinfo","redraw","resetpos","i","cell","destination","isShade","emptycell","fallable","blks","components","n","fall","CellList@stostone","totallen","abs","by","newcell","AreaShadeGraph@chocona","enabled","AreaStoneGraph:AreaShadeGraph@shimaguni,stostone","relation","cell.qans","border.ques","setComponentRefs","obj","component","getObjNodeList","nodeobj","stonenodes","resetObjNodeList","isedgevalidbylinkobj","border","isBorder","AreaStoneGraph@stostone","coloring","AreaRoomGraph","hastop","Graphic","gridcolor_type","enablebcolor","bgcellcolor_func","paint","drawBGCells","drawGrid","pid","drawDotCells_stostone","drawShadedCells","drawQuesNumbers","drawBorders","drawNarrowBorders","drawChassis","drawBoxBorders","drawTarget","Graphic@shimaguni","bcolor","Graphic@stostone","irowakeblk","qanscolor","minYdeg","maxYdeg","g","vinc","dsize","cw","range","cells","vid","id","qsub","fillStyle","fillCircle","bx","bw","bh","vhide","func","getBorderColor","getNarrowBorderColor","lw","lm","drawBorders_common","getShadedCellColor","cell0","qans","info","error","qinfo","errcolor1","errcolor2","trial","trialcolor","execConfig","color","shadecolor","sblk1","sidecell","sblk2","quescolor","getQuesNumberText","getQuesNumberColor","getQuesNumberColor_mixed","Encode","decodePzpr","decodeBorder","decodeRoomNumber16","encodePzpr","encodeBorder","encodeRoomNumber16","FileIO","decodeData","decodeAreaRoom","decodeCellQnum","decodeCellAns","encodeData","encodeAreaRoom","encodeCellQnum","encodeCellAns","AnsCheck@shimaguni,stostone#1","checklist","AnsCheck@chocona#1","AnsCheck@shimaguni,stostone","checkSideAreaShadeCell","checkSideAreaCell","cell1","checkSideAreaLandSide","checkSideAreaSize","roommgr","area","filter","checkSeqBlocksInRoom","rooms","r","stonebase","check","failcode","add","checkOnly","seterr","AnsCheck@stostone","checkAns","break_if_error","resetCache","checkFallenBlock","bd","c","maxby","checkRemainingSpace","AnsCheck@chocona","checkShadeRect","checkAllArea","sblkmgr","w","h","a","FailCode@shimaguni","bkShadeNe","bkShadeDivide","bkNoShade","cbShade","bsEqShade","FailCode@chocona","csNotRect","FailCode@stostone","csUpper","cuLower"],"mappings":"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","file":"shimaguni.js"}