{"version":3,"sources":["../../../src/variety/tapaloop.js"],"names":["sameArray","array1","array2","length","k","pidlist","classbase","module","exports","pzpr","classmgr","makeCustom","MouseEvent","inputModes","edit","play","mouseinput_auto","this","puzzle","playmode","btn","mousestart","mousemove","inputLine","mouseend","notInputted","inputpeke_ifborder","inputMB","inputpeke","editmode","setcursor","getcell","KeyEvent","enablemake","keyinput","ca","key_inputqnum_tapaloop","cell","cursor","getc","nums","qnums","val","num","prev","i","push","sum","setNums","draw","Cell","noLP","dir","setQnums","setQans","setQsub","addOpeQnums","old","opemgr","add","klass","ObjectOperation2","getSegmentLengths","segs","current","cellrel","borderrel","relcell","lcnt","border","relbd","isLine","pop","CellList","allclear","isrec","common","call","ObjectOperation2:Operation","setData","bx","by","property","decode","strs","shift","str","join","strs2","substr","split","toString","isModify","lastope","undo","exec","redo","board","checker","resetCache","OperationManager","addExtraOperation","operationlist","Border","enableLineNG","Board","hasborder","LineGraph","enabled","Graphic","irowake","gridcolor_type","paint","drawBGCells","drawGrid","drawTapaNumbers","drawMBs","drawPekes","drawLines","drawChassis","drawTarget","Encode","decodePzpr","type","decodeNumber_tapaloop","encodePzpr","encodeNumber_tapaloop","c","bstr","outbstr","bd","charAt","include","parseInt","count","cm","pstr","qn","FileIO","decodeData","decodeQnums_tapaloop","decodeBorderLine","encodeData","encodeQnums_tapaloop","encodeBorderLine","decodeCell","array","encodeCell","AnsCheck","checklist","checkTapaloop","checkAllCell","idx","indexOf","splice","FailCode","tapaloopError"],"mappings":"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","file":"tapaloop.js"}