/*! @license pzpr.js v (c) 2009-2021 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */

!function(a,b){"object"==typeof module&&module.exports?module.exports=[a,b]:pzpr.classmgr.makeCustom(a,b)}(["kurotto","mines"],{MouseEvent:{use:!0,inputModes:{edit:["number","clear"],play:["shade","unshade"]},mouseinput_auto:function(){this.puzzle.playmode?((this.mousestart||this.mousemove)&&this.inputcell(),this.mouseend&&this.notInputted()&&this.inputqcmp()):this.puzzle.editmode&&this.mousestart&&this.inputqnum()},inputqcmp:function(){var a=this.getcell();a.isnull||a.noNum()||(a.setQcmp(+!a.qcmp),a.draw(),this.mousereset())}},KeyEvent:{enablemake:!0},Cell:{numberRemainsUnshaded:!0,minnum:0,isCmp:function(){return!(-2!==this.qnum&&!this.isValidNum())&&(1===this.qcmp||!!this.puzzle.execConfig("autocmp")&&this.checkComplete())}},"Cell@kurotto":{maxnum:function(){var a=this.board.cell.length-1;return a<=999?a:999},checkComplete:function(){if(!this.isValidNum())return!0;for(var a=0,b=[],c=this.getdir4clist(),d=0;d<c.length;d++){var e=c[d][0].sblk;if(null!==e){for(var f=0;f<b.length;f++)if(b[f]===e){e=null;break}null!==e&&(a+=e.clist.length,b.push(e))}}return this.qnum===a}},"Cell@mines":{maxnum:8,checkComplete:function(){if(!this.isValidNum())return!0;for(var a=0,b=[this.relcell(-2,-2),this.relcell(0,-2),this.relcell(2,-2),this.relcell(-2,0),this.relcell(2,0),this.relcell(-2,2),this.relcell(0,2),this.relcell(2,2)],c=0;c<8;c++)"cell"===b[c].group&&!b[c].isnull&&b[c].isShade()&&a++;return this.qnum===a}},"AreaShadeGraph@kurotto":{enabled:!0},Graphic:{autocmp:"number",qanscolor:"black",setRange:function(a,b,c,d){var e=this.puzzle,f=e.board;e.execConfig("autocmp")&&(a=f.minbx-2,b=f.minby-2,c=f.maxbx+2,d=f.maxby+2),this.common.setRange.call(this,a,b,c,d)}},"Graphic@kurotto":{hideHatena:!0,numbercolor_func:"qnum",circleratio:[.45,.4],paint:function(){this.drawBGCells(),this.drawShadedCells(),this.drawDotCells(),this.drawGrid(),this.drawCircledNumbers(),this.drawChassis(),this.drawTarget()},getCircleFillColor:function(a){return a.isCmp()?this.qcmpcolor:null}},"Graphic@mines":{qcmpcolor:"rgb(127,127,127)",paint:function(){this.drawBGCells(),this.drawCircles(),this.drawDotCells(),this.drawGrid(),this.drawQuesNumbers(),this.drawChassis(),this.drawTarget()},getCircleFillColor:function(a){return this.getShadedCellColor(a)},getCircleStrokeColor:function(a){return this.getShadedCellColor(a)},getQuesNumberColor:function(a){var b=this.getQuesNumberColor_qnum(a);return 1===(a.error||a.qinfo)?b:a.isCmp()?this.qcmpcolor:b}},Encode:{decodePzpr:function(a){this.decodeNumber16()},encodePzpr:function(a){this.encodeNumber16()}},FileIO:{decodeData:function(){this.decodeCellQnum(),this.decodeCellAns()},encodeData:function(){this.encodeCellQnum(),this.encodeCellAns()}},AnsCheck:{checkCellNumber:function(a){for(var b=this.board,c=0;c<b.cell.length;c++){var d=b.cell[c];if(!d.checkComplete()){if(this.failcode.add(a),this.checkOnly)break;d.seterr(1)}}}},"AnsCheck@kurotto":{checklist:["checkShadeCellExist","checkCellNumber_kurotto"],checkCellNumber_kurotto:function(){this.checkCellNumber("nmSumSizeNe")}},"AnsCheck@mines":{checklist:["checkCellNumber_mines"],checkCellNumber_mines:function(){this.checkCellNumber("nmMinesNe")}},"FailCode@kurotto":{nmSumSizeNe:["隣り合う黒マスの個数の合計が数字と違います。","The number is not equal to sum of adjacent masses of shaded cells."]},"FailCode@mines":{nmMinesNe:["(please translate) The number of mines in the surrounding cells is not equal to the number.","The number of mines in the surrounding cells is not equal to the number."]}});
//# sourceMappingURL=kurotto.js.map