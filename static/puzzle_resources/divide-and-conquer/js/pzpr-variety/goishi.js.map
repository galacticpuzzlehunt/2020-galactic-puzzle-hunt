{"version":3,"sources":["../../../src/variety/goishi.js"],"names":["pidlist","classbase","module","exports","pzpr","classmgr","makeCustom","MouseEvent","mouseinput","this","puzzle","playmode","mousestart","btn","inputqans","editmode","inputstone","cell","getcell","isnull","cursor","getc","setcursor","setStone","draw","isStone","anum","max","bd","board","bcell","emptycell","c","length","cell2","tmp","d","x1","bx","y1","by","x2","y2","setAnum","KeyEvent","enablemake","keyinput","ca","key_inputstone","Cell","ques","setQues","Board","disable_subclear","Graphic","errcolor1","errbcolor1","paint","drawCenterLines","drawCircles","drawCellSquare","drawAnsNumbers","drawTarget","g","vinc","range","minbx","maxbx","minby","maxby","lineWidth","strokeStyle","gridcolor","i","px","bw","py1","bh","py2","vid","strokeLine","py","px1","px2","getCircleStrokeColor","error","quescolor","getCircleFillColor","rw","rh","clist","cells","id","fillStyle","fillRectCenter","vhide","Encode","decodePzpr","type","decodeGoishi","encodePzpr","encodeGoishi","decodeKanpen","fio","decodeGoishi_kanpen","encodeKanpen","encodeGoishi_kanpen","bstr","outbstr","twi","disableInfo","num","parseInt","charAt","w","enableInfo","substr","cm","count","pass","toString","FileIO","decodeData","decodeGoishiFile","encodeData","encodeGoishiFile","kanpenOpen","decodeQansPos_kanpen","kanpenSave","encodeQansPos_kanpen","decodeCell","encodeCell","data","writeLine","readLine","item","split","stones","pos","len","join","kanpenOpenXML","decodeCellQnum_goishi_XMLBoard","decodeQansPos_XMLAnswer","kanpenSaveXML","encodeCellQnum_goishi_XMLBoard","encodeQansPos_XMLAnswer","decodeCellXMLBoard","val","encodeCellXMLBoard","nodes","xmldoc","querySelectorAll","node","getAttribute","boardnode","querySelector","ans","appendChild","createXMLNode","n","r","AnsCheck","checklist","checkStoneExist","some","failcode","add","checkPickedStone","checkAllCell","FailCode","brNoStone","goishiRemains"],"mappings":"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","file":"goishi.js"}