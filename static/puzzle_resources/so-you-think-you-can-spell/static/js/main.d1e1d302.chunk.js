(this.webpackJsonpspellingbee=this.webpackJsonpspellingbee||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),a=n(15),o=n.n(a),i=(n(21),n(10)),c=n(13),l=n(2),u=(n(22),n(23),n(16)),d=n(8),h=n(7),b=n(6),m=n(3),j=n.n(m),v=n(4),f=n(5),p=n(12),g=n(0),O="ok",y="Already found",x="Not in word list",N="Too short",w=Object(g.jsx)(g.Fragment,{children:"Missing\xa0center\xa0letter"}),k="Bad letters";function L(e){var t="";if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),s=0;s<n.length;s++){var r=n[s].trim();if(r.substring(0,e.length+1)===e+"="){t=decodeURIComponent(r.substring(e.length+1));break}}return t}function S(e,t,n,s,r,a,o){return _.apply(this,arguments)}function _(){return(_=Object(p.a)(j.a.mark((function e(t,n,s,r,a,o,c){var l,u,d,h,b,m,v,f,p=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=p.length>7&&void 0!==p[7]?p[7]:function(e){return e},u=l(t),!r.includes(t)){e.next=4;break}return e.abrupt("return",y);case 4:if(!(u.length<4)){e.next=6;break}return e.abrupt("return",N);case 6:if(u.includes(n)){e.next=8;break}return e.abrupt("return",w);case 8:d=Object(i.a)(u),e.prev=9,d.s();case 11:if((h=d.n()).done){e.next=17;break}if(b=h.value,s.includes(b)||b===n){e.next=15;break}return e.abrupt("return",k);case 15:e.next=11;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),d.e(e.t0);case 22:return e.prev=22,d.f(),e.finish(22);case 25:return m={word:t,level:o,side:c,nonce:a},v=L("csrftoken"),e.next=29,fetch("/puzzle/so-you-think-you-can-count/check_word",{method:"POST",body:JSON.stringify(m),headers:{"X-CSRFToken":v}});case 29:return f=e.sent,e.next=32,f.json();case 32:if(e.sent.valid){e.next=37;break}return e.abrupt("return",x);case 37:return e.abrupt("return",O);case 38:case"end":return e.stop()}}),e,null,[[9,19,22,25]])})))).apply(this,arguments)}var I=function(){function e(t,n,s){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];Object(v.a)(this,e),this.outerLetters=void 0,this.centerLetter=void 0,this.ranks=void 0,this.additionalData=void 0,this.outerLetters=t,this.centerLetter=n,this.additionalData=r;var a=s;this.ranks=[[Math.round(0*a),"Beginner"],[Math.round(.02*a),"Good Start"],[Math.round(.05*a),"Moving Up"],[Math.round(.08*a),"Good"],[Math.round(.15*a),"Solid"],[Math.round(.25*a),"Nice"],[Math.round(.4*a),"Great"],[Math.round(.5*a),"Amazing"],[Math.round(.7*a),"Genius"]]}return Object(f.a)(e,[{key:"evaluateWord",value:function(){var e=Object(p.a)(j.a.mark((function e(t,n,s,r,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S(t,this.centerLetter,this.outerLetters,n,s,r,a));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,s,r,a){return e.apply(this,arguments)}}()},{key:"getScore",value:function(e){return e.length<4?0:4===e.length?1:this.isPangram(e)?7+e.length:e.length}},{key:"isPangram",value:function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return Object.keys(t).length>=7}},{key:"reset",value:function(){}},{key:"shouldSort",value:function(){return!0}},{key:"getModalMessage",value:function(){return""}}]),e}(),E=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"evaluateWord",value:function(e,t,n,s,r){return S(e,this.centerLetter,this.outerLetters,t,n,s,r)}}]),n}(I),C=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"evaluateWord",value:function(e,t,n,s,r){return S(e,this.centerLetter,this.outerLetters,t,n,s,r,(function(e){for(var t="",n=0;n<e.length;n++)"bcdfghjklmnpqrstvwxyz".indexOf(e[n])>-1&&(t+=e[n]);return t}))}},{key:"isPangram",value:function(e){for(var t="",n=0;n<e.length;n++)"bcdfghjklmnpqrstvwxyz".indexOf(e[n])>-1&&(t+=e[n]);for(var s={},r=0;r<t.length;r++)s[t[r]]=!0;return Object.keys(s).length>=7}}]),n}(I),M=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"evaluateWord",value:function(e,t,n,s,r){return S(e,this.centerLetter,this.outerLetters,t,n,s,r)}},{key:"getModalMessage",value:function(){return Object(g.jsx)("p",{className:"sb-modal-message",children:Object(g.jsx)("ul",{className:"sb-modal-list",children:this.additionalData.map((function(e){return Object(g.jsx)("li",{children:e})}))})})}}]),n}(I),T=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"evaluateWord",value:function(e,t,n,s,r){return S(e,this.centerLetter,this.outerLetters,t,n,s,r)}},{key:"getModalMessage",value:function(){return Object(g.jsx)("p",{className:"sb-modal-message",children:"This level isn't very cokie-cuter."})}}]),n}(I),z=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"evaluateWord",value:function(e,t,n,s,r){return S(e,this.centerLetter,this.outerLetters,t,n,s,r)}},{key:"getScore",value:function(e){return new Set(["aggron","aron","gengar","gogoat","rattata","torterra","ditto","dodrio","dratini","nidoran","nidorina","nidorino"]).has(e)?400:Object(u.a)(Object(d.a)(n.prototype),"getScore",this).call(this,e)}},{key:"getModalMessage",value:function(){return Object(g.jsx)("p",{className:"sb-modal-message",children:"You've got to get them all?"})}}]),n}(I),F=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e,s,r){var a;return Object(v.a)(this,n),(a=t.call(this,e,s,r)).originalOuterLetters=void 0,a.originalOuterLetters=e,a}return Object(f.a)(n,[{key:"evaluateWord",value:function(){var e=Object(p.a)(j.a.mark((function e(t,n,s,r,a){var o,i,c,l,u,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t,this.centerLetter,this.outerLetters,n,s,r,a);case 2:if("ok"===(o=e.sent)){e.next=5;break}return e.abrupt("return",o);case 5:for(i={},c=0;c<6;c++)t.indexOf(this.outerLetters[c])>-1&&(i[this.outerLetters[c]]=!0);for(u in l=function(e){return e.charCodeAt(0)<"z".charCodeAt(0)?String.fromCharCode(e.charCodeAt(0)+1):"a"},i)d=this.outerLetters.indexOf(u),this.outerLetters=this.outerLetters.slice(0,d)+l(u)+this.outerLetters.slice(d+1);return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,s,r,a){return e.apply(this,arguments)}}()},{key:"isPangram",value:function(e){for(var t=0;t<this.outerLetters.length;t++)if(-1===e.indexOf(this.outerLetters[t]))return!1;return e.indexOf(this.centerLetter)>-1}},{key:"reset",value:function(){this.outerLetters=this.originalOuterLetters}},{key:"shouldSort",value:function(){return!1}}]),n}(I),G=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e,s,r){var a;return Object(v.a)(this,n),(a=t.call(this,e,s,r)).originalOuterLetters=void 0,a.originalCenterLetter=void 0,a.originalOuterLetters=e,a.originalCenterLetter=s,a}return Object(f.a)(n,[{key:"evaluateWord",value:function(){var e=Object(p.a)(j.a.mark((function e(t,n,s,r,a){var o,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t,this.centerLetter,this.outerLetters,n,s,r,a);case 2:if("ok"===(o=e.sent)){e.next=5;break}return e.abrupt("return",o);case 5:return(i=t[t.length-1])!==this.centerLetter&&(this.outerLetters=this.outerLetters.replace(i,this.centerLetter),this.centerLetter=i),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,s,r,a){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.outerLetters=this.originalOuterLetters,this.centerLetter=this.originalCenterLetter}}]),n}(I),A=[new E("weidly","r",460),new M("abimry","e",148,["Bj\xf6rn Ulvaeus, for example (4 6)","Banjo, the video game character (1 4 4)","Another name for Silicon Valley (3 4)","An unethical way to coax someone with fruit (5 7)","An 90s boy band song (3 3 3)","An item you can find from the haunted dairy section of the supermarket (5 4)","When you need your lashes trimmed, you go to an\u2026 (3 6)","A less common term for an eaglet (5 4)","A grizzly's declaration (1 2 1 4)","Before the rain in Spain falls on the plain, it travels through\u2026 (6 3)","You need to be 21 to do this in the US (6 4)","William of Orange (4 2 7)","An estimate of how long your project will take (5 1 4)","\ud83c\udfb5When we've said goodbye\ud83c\udfb5 (8 2)","A skeletal xylophone with more keys (7 7)"]),new C("bcdxyz","m",218),new T("flated","o",115),new G("ketchd","v",136),new z("egnort","a",3412),new F("dehiac","l",50)],U=[new E("lowbae","d",550),new M("delnpy","a",202,["Scream onomatopoeia (7)","Physician repellant (2 5 1 3)","A fencing weapon without the foil (1 6 4)","Sword or Omaha, but partially Spanish (1-3 5)","Who you might rent a house on a cul-de-sac from (7 8)","What the pilot did upon arriving at the airport (6 1 5)","February 29 (4 3)","\ud83c\udfb5Hey Jude\ud83c\udfb5 (?)","Batman! (?)","When you get a bear instead of gold from a river, you have (6 1 5)","A digital method to remunerate the Vatican (5 6)","Failed candy bar variant with peanuts, caramel, and fruit (6 6)","Sell a foot lever and an oar (6 1 5 3 1 6)","A command to get Alexa to queue up Skyfall (4 5)","If legacy college admissions were due to genetics, there could be a (4 6)"]),new C("vwhjkl","y",227),new T("libreo","t",134),new G("wizady","r",94),new z("adnort","i",2885),new F("degian","p",50)];function B(e){return e.split("").sort().join("")}function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r=Object(s.useRef)();Object(s.useEffect)((function(){r.current=t}),[t]),Object(s.useEffect)((function(){if(n&&n.addEventListener){var t=function(e){return r.current(e)};return n.addEventListener(e,t),function(){n.removeEventListener(e,t)}}}),[e,n])}var R,P,W=void 0;function D(e){for(var t="",n=[],s=0;s<e.length;s++)n.push(s);for(var r=[],a=e.length;a>0;a--){var o=Math.floor(Math.random()*a);t+=e[o],r.push(n[o]),e=e.slice(0,o)+e.slice(o+1),n.splice(o,1)}return{word:t,permutation:r}}function V(e){var t=e.level,n=t.centerLetter,r=t.outerLetters,a=Object(s.useState)(D(r)),o=Object(l.a)(a,2),i=o[0],c=o[1],u=Object(s.useState)(""),d=Object(l.a)(u,2),h=d[0],b=d[1],m=Object(s.useState)(void 0),j=Object(l.a)(m,2),v=j[0],f=j[1],p=Object(s.useState)(R.NONE),O=Object(l.a)(p,2),y=O[0],x=O[1];Object(s.useEffect)((function(){if(B(r)!==B(i.word)){for(var e="",t=0;t<6;t++)e+=r[i.permutation[t]];c({word:e,permutation:i.permutation})}}),[r,i.word,i.permutation]);var N=Object(g.jsx)("span",{children:"\xa0"}),w="sb-hive-input-content";if(h.length>0){w+=" non-empty",N=[];for(var k=0;k<h.length;k++){var L=h[k]===n?"sb-input-bright":-1===r.indexOf(h[k])?"sb-input-invalid":"";N.push(Object(g.jsx)("span",{className:L,children:h[k]}))}}var S=function(e){b((function(t){return v&&v.isError?e:t+e})),v&&v.isError&&(f(void 0),window.clearTimeout(W))},_=function(){b((function(e){return e.length>0?e.slice(0,e.length-1):""}))},I=function(){y===R.NONE&&(x(R.FADE_OUT),setTimeout((function(){c(D(r)),x(R.FADE_IN),setTimeout((function(){x(R.NONE)}),300)}),300))},E=function(){var t=h;if(t.length>0){var n=e.level.isPangram(t),s=e.level.getScore(t);e.level.evaluateWord(t,e.foundWords,e.nonce,e.levelI,e.isRightSide?"right":"left").then((function(r){if("ok"!==r)return a=r,W&&window.clearTimeout(W),f({message:a,points:0,isPangram:!1,isError:!0}),void(W=window.setTimeout((function(){f(void 0),b("")}),1100));var a;b(""),function(e,t,n){W&&window.clearTimeout(W),f({message:n?"Pangram!":e.length>=7?"Awesome!":e.length>=5?"Nice!":"Good!",points:t,isPangram:n,isError:!1}),W=window.setTimeout((function(){f(void 0)}),900)}(t,s,n),e.onEnterWord(t,s)}))}};Y("keydown",(function(e){var t=e.key;1===t.length&&t.match(/[a-z]/i)?S(t):"Backspace"===t?_():"Enter"===t?E():" "===t&&I()}));var C="sb-message-box",M=[];null!=v&&(M.push(Object(g.jsx)("span",{className:"sb-message",children:v.message})),v.isError?(C+=" error-message",w+=" has-error"):(M.push(Object(g.jsxs)("span",{className:"sb-message-points",children:["+",v.points]})),C+=" success-message",v.isPangram&&(C+=" pangram-message")));var T=e.levelI>0||X(e.isRightSide)>0;return Object(g.jsx)("div",{className:"sb-controls-box",children:Object(g.jsxs)("div",{className:"sb-controls",children:[Object(g.jsx)("div",{className:C,children:M}),Object(g.jsx)("div",{className:"sb-hive-input",children:Object(g.jsx)("span",{className:w,style:{fontSize:32},children:N})}),Object(g.jsx)("div",{className:"sb-hive",children:Object(g.jsx)(q,{centerLetter:n,outerLetters:i.word,shuffleState:y,onClickLetter:S})}),Object(g.jsxs)("div",{className:"hive-actions",children:[Object(g.jsx)("div",{className:"hive-action hive-action__delete sb-touch-button",onClick:_,children:"Delete"}),Object(g.jsx)("div",{className:"hive-action hive-action__shuffle sb-touch-button",onClick:I}),Object(g.jsx)("div",{className:"hive-action hive-action__submit sb-touch-button",onClick:E,children:"Enter"})]}),Object(g.jsxs)("div",{className:"hive-actions",style:{marginTop:16},children:[T?void 0:Object(g.jsx)("div",{style:{flex:"0.5"}}),Object(g.jsx)("div",{className:"hive-action hive-action__delete sb-touch-button",onClick:e.onReset,children:"Reset Level"}),T?Object(g.jsx)("div",{className:"hive-action hive-action__delete sb-touch-button",onClick:e.onJumpToLevel,children:"Jump to Level"}):void 0,T?void 0:Object(g.jsx)("div",{style:{flex:"0.5"}})]})]})})}function J(e){for(var t=[],n=0;n<=8;n++){var r="sb-progress-dot";n<e.rankNumber&&(r+=" completed"),t.push(Object(g.jsx)("span",{className:r}))}var a=[],o=Object(c.a)(e.words);e.level.shouldSort()&&o.sort();var u,d=Object(i.a)(o);try{for(d.s();!(u=d.n()).done;){var h=u.value;a.push(Object(g.jsx)("li",{children:Object(g.jsx)("span",{className:"sb-anagram",children:h})}))}}catch(k){d.e(k)}finally{d.f()}var b="sb-progress-marker";e.rankNumber>=8&&(b+=" final");var m=Object(s.useState)(1),j=Object(l.a)(m,2),v=j[0],f=j[1],p=Object(s.useState)(0),O=Object(l.a)(p,2),y=O[0],x=O[1],N=function(){var t=0;if(y<v){var n=document.getElementsByClassName("sb-wordlist-items-pag")[0],s=document.querySelector(".sb-wordlist-items-pag > li");if(n&&s){var r=n.getBoundingClientRect().height-24,a=s.getBoundingClientRect().height+8,o=Math.floor(r/a);t=Math.ceil(e.words.length/3/o)}}f(t),y>=t&&x(0)};Object(s.useEffect)(N),Y("resize",N);var w=void 0;return v>1&&(w=Object(g.jsxs)("div",{className:"sb-kebob",children:[Object(g.jsx)("button",{type:"button",className:"sb-bob-arrow sb-bob-prev"+(y>0?" active":""),onClick:function(){if(y>0){x((function(e){return e-1}));var e=document.getElementsByClassName("sb-wordlist-scroll-anchor")[y-1];e&&e.scrollIntoView()}},children:Object(g.jsx)("span",{className:"sb-bob-text",children:"Prev"})}),function(){for(var e=[],t=0;t<v;t++)e.push(Object(g.jsx)("div",{className:"sb-bob"+(y===t?" active":"")}));return e}(),Object(g.jsx)("button",{type:"button",className:"sb-bob-arrow sb-bob-next"+(y<v-1?" active":""),onClick:function(){if(y<v-1){x((function(e){return e+1}));var e=document.getElementsByClassName("sb-wordlist-scroll-anchor")[y+1];e&&e.scrollIntoView()}},children:Object(g.jsx)("span",{className:"sb-bob-text",children:"Next"})})]})),Object(g.jsxs)("div",{className:"sb-status-box",children:[Object(g.jsx)("div",{className:"sb-progress-box",children:Object(g.jsx)("span",{role:"presentation",children:Object(g.jsxs)("div",{className:"sb-progress",title:"Click to see this level\u2019s ranks",onClick:e.onShowRankings,children:[Object(g.jsx)("h4",{className:"sb-progress-rank",children:e.rankName}),Object(g.jsxs)("div",{className:"sb-progress-line",children:[Object(g.jsx)("div",{className:"sb-progress-dots",children:t}),Object(g.jsx)("div",{className:b,style:{left:12.5*e.rankNumber+"%"},children:Object(g.jsx)("span",{className:"sb-progress-value",children:e.score})})]})]})})}),Object(g.jsxs)("div",{className:"sb-wordlist-box",children:[Object(g.jsx)("div",{className:"sb-wordlist-heading",children:Object(g.jsx)("div",{className:"sb-wordlist-heading-wrap sb-touch-button",children:Object(g.jsxs)("div",{className:"sb-wordlist-summary",children:["You have found ",1===e.words.length?"1 word":"".concat(e.words.length," words")]})})}),Object(g.jsx)("div",{className:"sb-wordlist-drawer paginated",children:Object(g.jsxs)("div",{className:"sb-wordlist-window paginated",children:[Object(g.jsxs)("div",{className:"sb-wordlist-pag",children:[function(){for(var e=[],t=0;t<v;t++)e.push(Object(g.jsx)("div",{className:"sb-wordlist-scroll-anchor",style:{left:100*t+"%"}}));return e}(),Object(g.jsx)("ul",{className:"sb-wordlist-items-pag",children:a})]}),w]})})]})]})}function q(e){var t="hive";e.shuffleState===R.FADE_OUT?t+=" fade-out":e.shuffleState===R.SHUFFLING?t+=" shuffling":e.shuffleState===R.FADE_IN&&(t+=" fade-in");var n=Object(s.useState)([!1,!1,!1,!1,!1,!1,!1]),r=Object(l.a)(n,2),a=r[0],o=r[1],i=function(e,t){o((function(n){var s=Object(c.a)(n);return s[e]=t,s}))},u=function(t,n){return Object(g.jsxs)("svg",{onClick:function(){return e.onClickLetter(t?e.centerLetter[0]:e.outerLetters[n])},onMouseDown:function(){return i(n,!0)},onMouseUp:function(){return i(n,!1)},className:"hive-cell"+(t?" center":" outer"),viewBox:"0 0 120 103.92304845413263",children:[Object(g.jsx)("polygon",{className:"cell-fill"+(a[n]?" push-active":""),points:"0,51.96152422706631 30,0 90,0 120,51.96152422706631 90,103.92304845413263 30,103.92304845413263",stroke:"white","stroke-width":"7.5"}),Object(g.jsx)("text",{className:"cell-letter",x:"50%",y:"50%",dy:"11.25%",children:t?e.centerLetter[0]:e.outerLetters[n]})]})},d=[];return d.push(u(!0,6)),d.push(u(!1,0)),d.push(u(!1,1)),d.push(u(!1,2)),d.push(u(!1,3)),d.push(u(!1,4)),d.push(u(!1,5)),Object(g.jsx)("div",{className:t,children:d})}function H(e,t){var n,s=-1,r="",a=Object(i.a)(t);try{for(a.s();!(n=a.n()).done;){var o=Object(l.a)(n.value,2),c=o[0],u=o[1];if(!(c<=e))break;s+=1,r=u}}catch(d){a.e(d)}finally{a.f()}return{rankName:r,rankNumber:s}}function X(e){var t=e?"right":"left",n=0,s=window.localStorage.getItem("sytycs-max-level-reached-".concat(t));return s&&parseInt(s)>0&&(n=parseInt(s)),n}function K(e){var t="sb-modal-system";(e.rankingsOpen||e.resetOpen||e.jumpToLevelOpen)&&(t+=" sb-modal-open"),e.isClosing&&(t+=" sb-modal-closing");for(var n=Object(g.jsxs)("div",{role:"button",className:"sb-modal-frame left-aligned ranks",onClick:function(e){e.stopPropagation()},children:[Object(g.jsx)("div",{role:"button",className:"sb-modal-close",onClick:function(t){e.onCloseModal(),t.stopPropagation()},children:"\xd7"}),Object(g.jsxs)("div",{className:"sb-modal-content",children:[Object(g.jsxs)("div",{className:"sb-modal-header",children:[Object(g.jsxs)("h3",{className:"sb-modal-title",children:["Level ",e.levelI+1]}),Object(g.jsx)("p",{className:"sb-modal-message",children:"Ranks are based on a percentage of possible points in a puzzle. The minimum scores to reach each rank for this level\u2019s are:"})]}),Object(g.jsxs)("div",{className:"sb-modal-body",children:[Object(g.jsx)("ol",{className:"sb-modal-list",children:e.level.ranks.map((function(e){var t=Object(l.a)(e,2),n=t[0],s=t[1];return Object(g.jsxs)("li",{children:[Object(g.jsx)("span",{className:"sb-modal-rank",children:s})," (",n,")"]})}))}),e.level.getModalMessage()]})]})]}),s=Object(g.jsxs)("div",{role:"button",className:"sb-modal-frame left-aligned ranks",onClick:function(e){e.stopPropagation()},children:[Object(g.jsx)("div",{role:"button",className:"sb-modal-close",onClick:function(t){e.onCloseModal(),t.stopPropagation()},children:"\xd7"}),Object(g.jsxs)("div",{className:"sb-modal-content",children:[Object(g.jsxs)("div",{className:"sb-modal-header",children:[Object(g.jsx)("h3",{className:"sb-modal-title",children:"Reset Level?"}),Object(g.jsxs)("p",{className:"sb-modal-message",children:["Are you sure you want to reset this level? This will clear all the words you\u2019ve found and reset your score to zero (but you will stay on level ",e.levelI+1,")."]})]}),Object(g.jsx)("div",{className:"sb-modal-body",children:Object(g.jsxs)("div",{className:"pz-moment__button-wrapper",style:{marginTop:12},children:[Object(g.jsx)("button",{onClick:e.onReset,type:"button",className:"pz-moment__button primary",children:"Reset"}),Object(g.jsx)("button",{onClick:e.onCloseModal,type:"button",className:"pz-moment__button secondary",style:{marginBottom:0},children:"Cancel"})]})})]})]}),r=[[],[],[]],a=function(t){r[Math.floor(t/3)].push(Object(g.jsxs)("button",{style:{marginBottom:0,minWidth:"8.7em"},onClick:function(){return e.onJumpToLevel(t)},type:"button",className:"pz-moment__button primary",children:["Level ",t+1]}))},o=0;o<Math.max(e.levelI,X(e.isRightSide))+1;o++)a(o);var i=Object(g.jsxs)("div",{role:"button",className:"sb-modal-frame left-aligned ranks",onClick:function(e){e.stopPropagation()},children:[Object(g.jsx)("div",{role:"button",className:"sb-modal-close",onClick:function(t){e.onCloseModal(),t.stopPropagation()},children:"\xd7"}),Object(g.jsxs)("div",{className:"sb-modal-content",children:[Object(g.jsxs)("div",{className:"sb-modal-header",children:[Object(g.jsx)("h3",{className:"sb-modal-title",children:"Jump to Level"}),Object(g.jsx)("p",{className:"sb-modal-message",children:"Reset the game to the start of any previously visited level. This will cause all of your progress on this level to be lost."})]}),Object(g.jsxs)("div",{className:"sb-modal-body",children:[r.map((function(e){return Object(g.jsx)("div",{className:"pz-moment__button-wrapper",style:{marginTop:12,flexDirection:"row",marginBottom:0,justifyContent:"left"},children:e})})),Object(g.jsx)("div",{className:"pz-moment__button-wrapper",style:{marginTop:12},children:Object(g.jsx)("button",{onClick:e.onCloseModal,type:"button",className:"pz-moment__button secondary",style:{marginBottom:0},children:"Cancel"})})]})]})]});return Object(g.jsx)("div",{id:"portal-game-modals",children:Object(g.jsx)("div",{className:t,children:Object(g.jsx)("div",{role:"presentation",className:"sb-modal-scrim",children:Object(g.jsxs)("div",{className:"sb-modal-wrapper",onClick:e.onCloseModal,children:[e.rankingsOpen?n:void 0,e.resetOpen?s:void 0,e.jumpToLevelOpen?i:void 0]})})})})}!function(e){e[e.NONE=0]="NONE",e[e.FADE_OUT=1]="FADE_OUT",e[e.SHUFFLING=2]="SHUFFLING",e[e.FADE_IN=3]="FADE_IN"}(R||(R={})),function(e){e[e.GAME_VISIBLE=0]="GAME_VISIBLE",e[e.GAME_FLYOUT=1]="GAME_FLYOUT",e[e.GENIUS_FLYIN=2]="GENIUS_FLYIN",e[e.GENIUS_VISIBLE=3]="GENIUS_VISIBLE",e[e.GENIUS_FLYOUT=4]="GENIUS_FLYOUT",e[e.GAME_FLYIN=5]="GAME_FLYIN"}(P||(P={}));var Q=function(){var e=window.location.search.indexOf("right")>-1,t=Object(s.useState)((function(){return function(e){var t=e?"right":"left";return window.localStorage.getItem("sytycs-nonce-".concat(t))||""}(e)})),n=Object(l.a)(t,2),r=n[0],a=n[1],o=Object(s.useState)((function(){return function(e){var t=e?"right":"left",n=window.localStorage.getItem("sytycs-level-".concat(t));return n?parseInt(n):0}(e)})),i=Object(l.a)(o,2),u=i[0],d=i[1],h=Object(s.useState)((function(){return function(e){var t=e?"right":"left",n=window.localStorage.getItem("sytycs-score-".concat(t));return n?parseInt(n):0}(e)})),b=Object(l.a)(h,2),m=b[0],j=b[1],v=Object(s.useState)((function(){return function(e){var t=e?"right":"left",n=window.localStorage.getItem("sytycs-foundwords-".concat(t));return n?n.split(","):[]}(e)})),f=Object(l.a)(v,2),p=f[0],O=f[1],y=Object(s.useState)(!1),x=Object(l.a)(y,2),N=x[0],w=x[1],k=Object(s.useState)(!1),S=Object(l.a)(k,2),_=S[0],I=S[1],E=Object(s.useState)(!1),C=Object(l.a)(E,2),M=C[0],T=C[1],z=Object(s.useState)(!1),F=Object(l.a)(z,2),G=F[0],Y=F[1],R=Object(s.useState)(P.GAME_VISIBLE),W=Object(l.a)(R,2),D=W[0],q=W[1],X=Object(s.useState)((function(){return window.localStorage.getItem("sytycs-answer")||""})),Q=Object(l.a)(X,2),Z=Q[0],$=Q[1],ee=(e?U:A)[u];Object(s.useEffect)((function(){var t=function(e){var t=e?"right":"left";return window.localStorage.getItem("sytycs-letters-".concat(t))||null}(e);t&&7===t.length&&B(ee.outerLetters)!==B(t.slice(1,7))&&(ee.centerLetter=t[0],ee.outerLetters=t.slice(1,7),O(p.join(",").split(","))),H(m,ee.ranks).rankNumber>=8&&(q(P.GAME_FLYOUT),setTimeout((function(){q(P.GENIUS_FLYIN),setTimeout((function(){q(P.GENIUS_VISIBLE)}),600)}),600))}),[]),Object(s.useEffect)((function(){!function(e,t,n,s,r,a){var o=r?"right":"left";window.localStorage.setItem("sytycs-level-".concat(o),e.toString()),window.localStorage.setItem("sytycs-score-".concat(o),n.toString()),window.localStorage.setItem("sytycs-foundwords-".concat(o),s.join(",")),window.localStorage.setItem("sytycs-letters-".concat(o),t.centerLetter+t.outerLetters),window.localStorage.setItem("sytycs-nonce-".concat(o),a);var i=0,c=window.localStorage.getItem("sytycs-max-level-reached-".concat(o));c&&parseInt(c)>0&&(i=parseInt(c)),e>i&&window.localStorage.setItem("sytycs-max-level-reached-".concat(o),e.toString())}(u,ee,m,p,e,r)}),[u,m,p]);var te=H(m,ee.ranks),ne=te.rankName,se=te.rankNumber,re=function(){Y(!0),setTimeout((function(){w(!1),I(!1),T(!1),Y(!1)}),100)},ae="pz-moment__frame pz-moment__congrats";[P.GENIUS_FLYIN,P.GENIUS_FLYOUT,P.GENIUS_VISIBLE].includes(D)&&(ae+=" on-stage"),D===P.GENIUS_FLYIN&&(ae+=" fly-in"),D===P.GENIUS_FLYOUT&&(ae+=" fly-out");var oe="pz-game-screen pz-moment__frame";[P.GAME_FLYIN,P.GAME_FLYOUT,P.GAME_VISIBLE].includes(D)&&(oe+=" on-stage"),D===P.GAME_FLYIN&&(oe+=" fly-in"),D===P.GAME_FLYOUT&&(oe+=" fly-out");var ie=function(){if(u<A.length-1){if(D!==P.GENIUS_VISIBLE)return;q(P.GENIUS_FLYOUT)}setTimeout((function(){var t={level:u,side:e?"right":"left",nonce:r,word_list:p},n=L("csrftoken");fetch("/puzzle/so-you-think-you-can-count/claim_genius",{method:"POST",body:JSON.stringify(t),headers:{"X-CSRFToken":n}}).then((function(e){return e.json()})).then((function(e){var t=e.is_genius,n=""!==Z||u!==A.length-1;t&&(u<A.length-1?(a(e.next_level_nonce),O([]),j(0),d((function(e){return e+1}))):$(e.answer)),n&&(q(P.GAME_FLYIN),setTimeout((function(){q(P.GAME_VISIBLE)}),600))}))}),600)},ce=Object(g.jsx)("div",{onClick:ie,className:"pz-moment__button-wrapper slide-up",style:{transitionDelay:"800ms"},children:Object(g.jsx)("button",{type:"button",className:"pz-moment__button primary",children:"Continue"})}),le=Object(g.jsxs)("div",{className:"pz-moment__content sequence-animation",children:[Object(g.jsx)("div",{className:"pz-moment__icon large spelling-bee-smarty slide-up",style:{transitionDelay:"200ms"}}),Object(g.jsx)("h1",{className:"pz-moment__title large slide-up",style:{transitionDelay:"400ms"},children:"Genius"}),Object(g.jsxs)("h1",{className:"pz-moment__description default slide-up",style:{transitionDelay:"600ms"},children:["You reached the highest rank, with ",Object(g.jsxs)("em",{children:[p.length,"\xa0words"]})," and ",Object(g.jsxs)("em",{children:[m,"\xa0points"]}),"."]}),ce,""!==Z?Object(g.jsxs)("h1",{className:"pz-moment__description default slide-up",children:["Congratulations! The answer to this puzzle is ",Object(g.jsx)("em",{children:Z}),"."]}):void 0]});return Object(g.jsx)("div",{className:"App pz-page pz-desktop pz-spelling-bee-wordlist",children:Object(g.jsx)("div",{id:"spelling-bee-container",className:"pz-section",children:Object(g.jsxs)("div",{className:"pz-game-wrapper",id:"js-hook-game-wrapper",style:{backgroundColor:"white",position:"static",overflow:"visible",minHeight:0},children:[Object(g.jsx)("div",{id:"portal-game-moments",children:Object(g.jsx)("section",{className:ae,id:"js-hook-pz-moment__congrats",style:{visibility:"visible",position:"static",top:0},children:Object(g.jsx)("div",{className:"pz-moment",style:{backgroundColor:"white"},children:Object(g.jsxs)("div",{className:"pz-moment__container alternate",children:[Object(g.jsx)("button",{type:"button",className:"pz-moment__close","aria-label":"Close",onClick:ie,children:"\xd7"}),[P.GENIUS_FLYIN,P.GENIUS_VISIBLE,P.GENIUS_FLYOUT].includes(D)?le:null]})})})}),Object(g.jsxs)("div",{className:oe,id:"js-hook-pz-moment__game",style:{visibility:"visible",position:"static",top:0},children:[Object(g.jsx)(K,{level:ee,levelI:u,rankingsOpen:N,resetOpen:_,jumpToLevelOpen:M,isClosing:G,isRightSide:e,onCloseModal:re,onReset:function(){re(),ee.reset(),O([]),j(0)},onJumpToLevel:function(t){re(),(e?U:A)[t].reset(),d(t),O([]),j(0)}}),Object(g.jsx)("div",{id:"pz-game-root",className:"pz-game-field",children:Object(g.jsxs)("div",{className:"sb-content-box",children:[Object(g.jsx)(V,{levelI:u,level:ee,nonce:r,onEnterWord:function(e,t){O((function(t){return[].concat(Object(c.a)(t),[e])}));var n=H(t+m,ee.ranks).rankNumber;j((function(e){return t+e})),n>=8&&(q(P.GAME_FLYOUT),setTimeout((function(){q(P.GENIUS_FLYIN),setTimeout((function(){q(P.GENIUS_VISIBLE)}),600)}),600))},foundWords:p,isRightSide:e,onReset:function(){I(!0)},onJumpToLevel:function(){T(!0)}}),Object(g.jsx)(J,{level:ee,rankName:ne,rankNumber:se,score:m,words:p,onShowRankings:function(){w(!0)}})]})})]})]})})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),s(e),r(e),a(e),o(e)}))};o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(Q,{})}),document.getElementById("root")),Z()}},[[26,1,2]]]);
//# sourceMappingURL=main.d1e1d302.chunk.js.map