{"version":3,"sources":["scoring.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["OK","ALREADY_FOUND","NOT_IN_DICTIONARY","TOO_SHORT","MISSING_CENTER","BAD_LETTERS","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","standardEvaluateWord","word","centerLetter","outerLetters","foundWords","nonce","a","preprocessWord","x","processedWord","includes","c","data","csrftoken","fetch","method","body","JSON","stringify","headers","response","json","Level","queenBeeScore","additionalData","ranks","this","q","Math","round","isPangram","distinctLetters","Object","keys","StandardLevel","FreeVowelLevel","w","o","indexOf","NotWordsLevel","className","map","clue","DoubledCenterLevel","PokemonLevel","Set","has","LetterIncrementLevel","originalOuterLetters","evaluationResult","lettersToIncrement","incrementLetter","charCodeAt","String","fromCharCode","slice","CenterSwapLevel","originalCenterLetter","lastLetter","replace","LEFT_LEVELS","RIGHT_LEVELS","sortLettersInWord","sort","join","useEventListener","eventName","handler","element","window","savedHandler","useRef","useEffect","current","addEventListener","eventListener","event","removeEventListener","HiveShuffleState","GeniusMomentState","messageHideTimeout","undefined","shuffleStr","s","startingNumbers","push","permutation","r","floor","random","splice","SbControls","props","level","useState","shuffledOuterLetters","setShuffledOuterLetters","inputLetters","setInputLetters","messageState","setMessageState","NONE","shuffleAnimState","setShuffleAnimState","newShuffledWord","inputDivContents","inputContentDivClass","classes","handleClickLetter","l","isError","clearTimeout","handleDelete","handleShuffle","FADE_OUT","setTimeout","FADE_IN","handleEnter","wordScore","getScore","evaluateWord","then","result","message","points","flashSuccessMessage","onEnterWord","e","key","match","sbMessageBoxClasses","sbMessageContents","showJumpToLevelButton","levelI","getMaxLevelFromLocalstorage","isRightSide","style","fontSize","Hive","shuffleState","onClickLetter","onClick","marginTop","flex","onReset","onJumpToLevel","SbStatus","progressDots","rankNumber","wordlistItems","sortedWords","words","shouldSort","markerClasses","numPaginationPages","setNumPaginationPages","paginationPage","setPaginationPage","resizeHandler","numPages","ce","getElementsByClassName","le","querySelector","containerHeight","getBoundingClientRect","height","elementHeight","elementsPerColumn","ceil","paginationKebob","type","scrollIntoView","role","title","onShowRankings","rankName","left","score","hiveClasses","SHUFFLING","mousedowns","setMousedowns","setHexMouseDown","n","b","ms","makeHex","isCenter","onMouseDown","onMouseUp","viewBox","stroke","stroke-width","y","dy","hexes","scoreToRank","rnum","rname","side","maxLevelReached","localStorage","getItem","parseInt","Modals","modalSystemClasses","rankingsOpen","resetOpen","jumpToLevelOpen","isClosing","rankingsModal","stopPropagation","onCloseModal","getModalMessage","resetModal","marginBottom","jumpToLevelButtons","minWidth","max","jumpToLevelModal","flexDirection","justifyContent","id","App","location","search","getNonceFromLocalstorage","getLevelIFromLocalstorage","setLevelI","getScoreFromLocalstorage","setScore","getFoundWordsFromLocalstorage","setFoundWords","rankingsModalOpen","setRankingsModalOpen","resetModalOpen","setResetModalOpen","jumpToLevelModalOpen","setJumpToLevelModalOpen","isModalClosing","setIsModalClosing","GAME_VISIBLE","geniusMomentState","setGeniusMomentState","lettersFromLocalstorage","getLettersFromLocalstorage","GAME_FLYOUT","GENIUS_FLYIN","GENIUS_VISIBLE","setItem","toString","saveProgressToLocalstorage","handleCloseModal","geniusFrameClasses","GENIUS_FLYOUT","gameFrameClasses","GAME_FLYIN","handleNextLevel","li","geniusContinueButton","transitionDelay","geniusModalContent","backgroundColor","position","overflow","minHeight","visibility","top","aria-label","reset","newLevelI","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"6UACMA,EAAK,KACLC,EAAgB,gBAChBC,EAAoB,mBACpBC,EAAY,YACZC,EAAiB,mEACjBC,EAAc,cAGpB,SAASC,EAAUC,GACjB,IAAIC,EAAc,GAClB,GAAIC,SAASC,QAA8B,KAApBD,SAASC,OAE9B,IADA,IAAMC,EAAUF,SAASC,OAAOE,MAAM,KAC7BC,EAAI,EAAGA,EAAIF,EAAQG,OAAQD,IAAK,CACvC,IAAMH,EAASC,EAAQE,GAAGE,OAE1B,GAAIL,EAAOM,UAAU,EAAGT,EAAKO,OAAS,KAAQP,EAAO,IAAM,CACzDC,EAAcS,mBAAmBP,EAAOM,UAAUT,EAAKO,OAAS,IAChE,OAIN,OAAON,E,SAGMU,E,sFAAf,WACEC,EACAC,EACAC,EACAC,EACAC,GALF,yCAAAC,EAAA,yDAMEC,EANF,+BAM2C,SAACC,GAAD,OAAOA,GAE1CC,EAAgBF,EAAeN,IACjCG,EAAWM,SAAST,GAT1B,yCAUWlB,GAVX,YAYM0B,EAAcb,OAAS,GAZ7B,yCAaWX,GAbX,UAeOwB,EAAcC,SAASR,GAf9B,yCAgBWhB,GAhBX,qBAkBkBuB,GAlBlB,6DAkBaE,EAlBb,QAmBSR,EAAaO,SAASC,IAAMA,IAAMT,EAnB3C,0CAoBaf,GApBb,uJAwBQyB,EAAO,CAAC,KAASX,EAAM,MAAU,EAAG,KAAS,OAAQ,MAAUI,GACjEQ,EAAYzB,EAAU,aAzB5B,UA0ByB0B,MAAM,gDAC3B,CACEC,OAAQ,OACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CAAE,cAAeN,KA9BhC,eA0BQO,EA1BR,iBAgC8BA,EAASC,OAhCvC,kBAkCoB,MAlCpB,0CAmCWrC,GAnCX,iCAqCWF,GArCX,iE,sBAyCO,IAAMwC,EAAb,WAME,WACEnB,EACAD,EACAqB,GAEC,IADDC,EACA,uDAD2B,GAC3B,yBAVFrB,kBAUE,OATFD,kBASE,OARFuB,WAQE,OAPFD,oBAOE,EACAE,KAAKvB,aAAeA,EACpBuB,KAAKxB,aAAeA,EACpBwB,KAAKF,eAAiBA,EACtB,IAAMG,EAAIJ,EAGVG,KAAKD,MAAQ,CACX,CAACG,KAAKC,MAAM,EAAOF,GAAI,YACvB,CAACC,KAAKC,MAAM,IAAOF,GAAI,cACvB,CAACC,KAAKC,MAAM,IAAOF,GAAI,aACvB,CAACC,KAAKC,MAAM,IAAOF,GAAI,QACvB,CAACC,KAAKC,MAAM,IAAOF,GAAI,SACvB,CAACC,KAAKC,MAAM,IAAOF,GAAI,QACvB,CAACC,KAAKC,MAAM,GAAOF,GAAI,SACvB,CAACC,KAAKC,MAAM,GAAOF,GAAI,WACvB,CAACC,KAAKC,MAAM,GAAOF,GAAI,WA3B7B,uFA+BE,WAAmB1B,EAAcG,EAAsBC,GAAvD,SAAAC,EAAA,+EACSN,EAAqBC,EAAMyB,KAAKxB,aAAcwB,KAAKvB,aAAcC,EAAYC,IADtF,gDA/BF,iFAmCE,SAASJ,GACP,OAAIA,EAAKL,OAAS,EAAU,EACR,IAAhBK,EAAKL,OAAqB,EAC1B8B,KAAKI,UAAU7B,GAAc,EAAIA,EAAKL,OACnCK,EAAKL,SAvChB,uBA0CE,SAAUK,GAER,IADA,IAAI8B,EAA0C,GACrCpC,EAAI,EAAGA,EAAIM,EAAKL,OAAQD,IAC/BoC,EAAgB9B,EAAKN,KAAM,EAE7B,OAAOqC,OAAOC,KAAKF,GAAiBnC,QAAU,IA/ClD,mBAkDE,cAlDF,wBAqDE,WACE,OAAO,IAtDX,6BAyDE,WACE,MAAO,OA1DX,KA8DMsC,E,kKACJ,SAAajC,EAAcG,EAAsBC,GAC/C,OAAOL,EACLC,EAAMyB,KAAKxB,aAAcwB,KAAKvB,aAAcC,EAAYC,O,GAHlCiB,GAOtBa,E,kKACJ,SAAalC,EAAcG,EAAsBC,GAC/C,OAAOL,EACLC,EAAMyB,KAAKxB,aAAcwB,KAAKvB,aAAcC,EAAYC,GACxD,SAAC+B,GAEC,IADA,IAAIC,EAAI,GACC1C,EAAI,EAAGA,EAAIyC,EAAExC,OAAQD,IACxB,wBAAwB2C,QAAQF,EAAEzC,KAAO,IAC3C0C,GAAKD,EAAEzC,IAGX,OAAO0C,O,uBAKb,SAAUD,GAER,IADA,IAAIC,EAAI,GACC1C,EAAI,EAAGA,EAAIyC,EAAExC,OAAQD,IACxB,wBAAwB2C,QAAQF,EAAEzC,KAAO,IAC3C0C,GAAKD,EAAEzC,IAIX,IADA,IAAIoC,EAA0C,GACrCpC,EAAI,EAAGA,EAAI0C,EAAEzC,OAAQD,IAC5BoC,EAAgBM,EAAE1C,KAAM,EAE1B,OAAOqC,OAAOC,KAAKF,GAAiBnC,QAAU,M,GA3BrB0B,GA+BvBiB,E,kKACJ,SAAatC,EAAcG,EAAsBC,GAC/C,OAAOL,EACLC,EAAMyB,KAAKxB,aAAcwB,KAAKvB,aAAcC,EAAYC,K,6BAG5D,WACE,OACE,mBAAGmC,UAAU,mBAAb,SACE,oBAAIA,UAAU,gBAAd,SACId,KAAKF,eAAeiB,KAAI,SAACC,GAAD,OAAU,6BAAKA,e,GAVvBpB,GAgBtBqB,E,kKACJ,SAAa1C,EAAcG,EAAsBC,GAC/C,OAAOL,EACLC,EAAMyB,KAAKxB,aAAcwB,KAAKvB,aAAcC,EAAYC,K,6BAG5D,WACE,OACE,mBAAGmC,UAAU,mBAAb,oD,GAR2BlB,GAc3BsB,E,kKACJ,SAAa3C,EAAcG,EAAsBC,GAC/C,OAAOL,EACLC,EAAMyB,KAAKxB,aAAcwB,KAAKvB,aAAcC,EAAYC,K,sBAG5D,SAASJ,GAIP,OAHgB,IAAI4C,IAAI,CAAC,SAAU,OAAQ,SAAU,SAAU,UAC7D,WAAY,QAAS,SAAU,UAAW,UAAW,WACrD,aACUC,IAAI7C,GACP,IAEA,gEAAeA,K,6BAI1B,WACE,OACE,mBAAGuC,UAAU,mBAAb,6C,GAnBqBlB,GAyBrByB,E,kDAGJ,WACE5C,EACAD,EACAqB,GACC,IAAD,8BACA,cAAMpB,EAAcD,EAAcqB,IAPpCyB,0BAME,EAEA,EAAKA,qBAAuB7C,EAF5B,E,uFAKF,WAAmBF,EAAcG,EAAsBC,GAAvD,yBAAAC,EAAA,sEACiCN,EAAqBC,EAAMyB,KAAKxB,aAAcwB,KAAKvB,aAAcC,EAAYC,GAD9G,UAE2B,QADnB4C,EADR,iDAGWA,GAHX,OAME,IADMC,EAA6C,GAC1CvD,EAAI,EAAGA,EAAI,EAAGA,IACjBM,EAAKqC,QAAQZ,KAAKvB,aAAaR,KAAO,IACxCuD,EAAmBxB,KAAKvB,aAAaR,KAAM,GAY/C,IAASgB,KATHwC,EAAkB,SAACxC,GACvB,OAAIA,EAAEyC,WAAW,GAAK,IAAIA,WAAW,GAC5BC,OAAOC,aAAa3C,EAAEyC,WAAW,GAAK,GAEtC,KAKGF,EACRvD,EAAI+B,KAAKvB,aAAamC,QAAQ3B,GAClCe,KAAKvB,aAAeuB,KAAKvB,aAAaoD,MAAM,EAAG5D,GAAKwD,EAAgBxC,GAAKe,KAAKvB,aAAaoD,MAAM5D,EAAI,GAtBzG,yBA4BSsD,GA5BT,iD,kFA+BA,SAAUb,GACR,IAAK,IAAIzC,EAAI,EAAGA,EAAI+B,KAAKvB,aAAaP,OAAQD,IAC5C,IAAyC,IAArCyC,EAAEE,QAAQZ,KAAKvB,aAAaR,IAC9B,OAAO,EAGX,OAAOyC,EAAEE,QAAQZ,KAAKxB,eAAiB,I,mBAGzC,WACEwB,KAAKvB,aAAeuB,KAAKsB,uB,wBAG3B,WACE,OAAO,M,GAzDwB1B,GA6D7BkC,E,kDAIJ,WACErD,EACAD,EACAqB,GACC,IAAD,8BACA,cAAMpB,EAAcD,EAAcqB,IARpCyB,0BAOE,IANFS,0BAME,EAEA,EAAKT,qBAAuB7C,EAC5B,EAAKsD,qBAAuBvD,EAH5B,E,uFAMF,WAAmBD,EAAcG,EAAsBC,GAAvD,iBAAAC,EAAA,sEACiCN,EAAqBC,EAAMyB,KAAKxB,aAAcwB,KAAKvB,aAAcC,EAAYC,GAD9G,UAE2B,QADnB4C,EADR,iDAGWA,GAHX,cAKQS,EAAazD,EAAKA,EAAKL,OAAS,MACnB8B,KAAKxB,eACtBwB,KAAKvB,aAAeuB,KAAKvB,aAAawD,QAAQD,EAAYhC,KAAKxB,cAC/DwB,KAAKxB,aAAewD,GARxB,kBAUST,GAVT,gD,8EAaA,WACEvB,KAAKvB,aAAeuB,KAAKsB,qBACzBtB,KAAKxB,aAAewB,KAAK+B,yB,GA7BCnC,GAiCjBsC,EAAuB,CAClC,IAAI1B,EACF,SACA,IACA,KAEF,IAAIK,EACF,SACA,IACA,IACA,CACJ,sCACA,0CACA,wCACA,oDACA,+BACA,+EACA,8DACA,yCACA,oCACA,8EACA,+CACA,4BACA,yDACA,wDACA,8CAGE,IAAIJ,EACF,SACA,IACA,KAEF,IAAIQ,EACF,SACA,IACA,KAEF,IAAIa,EACF,SACA,IACA,KAEF,IAAIZ,EACF,SACA,IACA,MAEF,IAAIG,EACF,SACA,IACA,KAISc,EAAwB,CACnC,IAAI3B,EACF,SACA,IACA,KAEF,IAAIK,EACF,SACA,IACA,IACA,CACJ,0BACA,gCACA,4CACA,gDACA,wDACA,0DACA,oBACA,uCACA,cACA,qEACA,mDACA,kEACA,6CACA,mDACA,8EAGE,IAAIJ,EACF,SACA,IACA,KAEF,IAAIQ,EACF,SACA,IACA,KAEF,IAAIa,EACF,SACA,IACA,IAEF,IAAIZ,EACF,SACA,IACA,MAEF,IAAIG,EACF,SACA,IACA,KChaJ,SAASe,EAAkB1B,GACvB,OAAOA,EAAE1C,MAAM,IAAIqE,OAAOC,KAAK,IAKnC,SAASC,EAAiBC,EAAmBC,GAA6C,IAAlBC,EAAiB,uDAAPC,OAE1EC,EAAeC,mBAMrBC,qBAAU,WACRF,EAAaG,QAAUN,IACtB,CAACA,IAEJK,qBACE,WAIE,GADoBJ,GAAWA,EAAQM,iBACvC,CAGA,IAAMC,EAAgB,SAACC,GAAD,OAAiBN,EAAaG,QAAgBG,IAMpE,OAHAR,EAAQM,iBAAiBR,EAAWS,GAG7B,WACLP,EAAQS,oBAAoBX,EAAWS,OAG3C,CAACT,EAAWE,IAIhB,IAEKU,EAubAC,EAzbDC,OAAyCC,EAS7C,SAASC,EAAWC,GAGlB,IAFA,IAAIlF,EAAO,GACPmF,EAA4B,GACvBzF,EAAI,EAAGA,EAAIwF,EAAEvF,OAAQD,IAC5ByF,EAAgBC,KAAK1F,GAGvB,IADA,IAAM2F,EAAwB,GACrB3F,EAAIwF,EAAEvF,OAAQD,EAAI,EAAGA,IAAK,CACjC,IAAI4F,EAAI3D,KAAK4D,MAAM5D,KAAK6D,SAAW9F,GACnCM,GAAckF,EAAEI,GAChBD,EAAYD,KAAKD,EAAgBG,IACjCJ,EAAIA,EAAE5B,MAAM,EAAGgC,GAAKJ,EAAE5B,MAAMgC,EAAI,GAChCH,EAAgBM,OAAOH,EAAG,GAE5B,MAAO,CAACtF,OAAMqF,eAUhB,SAASK,EAAWC,GAUlB,MAAqCA,EAAMC,MAApC3F,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,aACrB,EAAwD2F,mBAASZ,EAAW/E,IAA5E,mBAAO4F,EAAP,KAA6BC,EAA7B,KACA,EAAwCF,mBAAS,IAAjD,mBAAOG,EAAP,KAAqBC,EAArB,KACA,EAAwCJ,wBAAmCb,GAA3E,mBAAOkB,EAAP,KAAqBC,EAArB,KACA,EAAgDN,mBAA2BhB,EAAiBuB,MAA5F,mBAAOC,EAAP,KAAyBC,EAAzB,KAEA/B,qBAAU,WACR,GAAIV,EAAkB3D,KAAkB2D,EAAkBiC,EAAqB9F,MAAO,CAEpF,IADA,IAAIuG,EAAkB,GACb7G,EAAI,EAAGA,EAAI,EAAGA,IACrB6G,GAAmBrG,EAAa4F,EAAqBT,YAAY3F,IAEnEqG,EAAwB,CAAC/F,KAAMuG,EAAiBlB,YAAaS,EAAqBT,iBAEnF,CAACnF,EAAc4F,EAAqB9F,KAAM8F,EAAqBT,cAElE,IAAImB,EAAgD,wCAChDC,EAAuB,wBAC3B,GAAIT,EAAarG,OAAS,EAAG,CAC3B8G,GAAwB,aACxBD,EAAmB,GACnB,IAAK,IAAI9G,EAAI,EAAGA,EAAIsG,EAAarG,OAAQD,IAAK,CAC5C,IAAIgH,EAAUV,EAAatG,KAAOO,EAAe,mBAA+D,IAA3CC,EAAamC,QAAQ2D,EAAatG,IAAa,mBAAqB,GACzI8G,EAAiBpB,KAAK,sBAAM7C,UAAWmE,EAAjB,SAA2BV,EAAatG,OAIlE,IAAMiH,EAAoB,SAACC,GACzBX,GAAgB,SAACD,GACf,OAAIE,GAAgBA,EAAaW,QACxBD,EAEFZ,EAAeY,KAEpBV,GAAgBA,EAAaW,UAC/BV,OAAgBnB,GAChBZ,OAAO0C,aAAa/B,KAIlBgC,EAAe,WACnBd,GAAgB,SAACD,GACf,OAAIA,EAAarG,OAAS,EACjBqG,EAAa1C,MAAM,EAAG0C,EAAarG,OAAS,GAE9C,OAILqH,EAAgB,WAChBX,IAAqBxB,EAAiBuB,OAI1CE,EAAoBzB,EAAiBoC,UACrCC,YAAW,WACTnB,EAAwBd,EAAW/E,IACnCoG,EAAoBzB,EAAiBsC,SACrCD,YAAW,WACTZ,EAAoBzB,EAAiBuB,QACpC,OACF,OAkCCgB,EAAc,WAClB,IAAMpH,EAAOgG,EACb,GAAIhG,EAAKL,OAAS,EAAG,CAGnB,IAAIkC,EAAY8D,EAAMC,MAAM/D,UAAU7B,GAClCqH,EAAY1B,EAAMC,MAAM0B,SAAStH,GACjB2F,EAAMC,MAAM2B,aAAavH,EAAM2F,EAAMxF,WAAYwF,EAAMvF,OAC7DoH,MAAK,SAAAC,GACjB,GAAe,OAAXA,EAEF,OA3BmBC,EA0BDD,EAzBpB1C,GAAoBX,OAAO0C,aAAa/B,GAE5CoB,EAAgB,CACduB,UACAC,OAAQ,EACR9F,WAAW,EACXgF,SAAS,SAGX9B,EAAqBX,OAAO8C,YAAW,WACrCf,OAAgBnB,GAChBiB,EAAgB,MACf,OAbqB,IAACyB,EA6BnBzB,EAAgB,IA5CI,SAACjG,EAAcqH,EAAmBxF,GACxDkD,GAAoBX,OAAO0C,aAAa/B,GAE5CoB,EAAgB,CACduB,QAAS7F,EAAY,WAAa7B,EAAKL,QAAU,EAAI,WAAaK,EAAKL,QAAU,EAAI,QAAU,QAC/FgI,OAAQN,EACRxF,UAAWA,EACXgF,SAAS,IAGX9B,EAAqBX,OAAO8C,YAAW,WACrCf,OAAgBnB,KACf,KAiCG4C,CAAoB5H,EAAMqH,EAAWxF,GACrC8D,EAAMkC,YAAY7H,EAAMqH,QAMhCrD,EAAiB,WAAW,SAAC8D,GAC3B,IAAMC,EAAMD,EAAEC,IACK,IAAfA,EAAIpI,QAAgBoI,EAAIC,MAAM,UAChCrB,EAAkBoB,GACD,cAARA,EACThB,IACiB,UAARgB,EACTX,IACiB,MAARW,GACTf,OAIJ,IAAIiB,EAAsB,iBACtBC,EAAoB,GACJ,MAAhBhC,IACFgC,EAAkB9C,KAAK,sBAAM7C,UAAU,aAAhB,SAA8B2D,EAAawB,WAC9DxB,EAAaW,SACfoB,GAAuB,iBACvBxB,GAAwB,eAExByB,EAAkB9C,KAAK,uBAAM7C,UAAU,oBAAhB,cAAsC2D,EAAayB,WAC1EM,GAAuB,mBACnB/B,EAAarE,YACfoG,GAAuB,sBAK7B,IAAME,EAAyBxC,EAAMyC,OAAS,GAAKC,EAA4B1C,EAAM2C,aAAe,EAEpG,OACE,qBAAK/F,UAAU,kBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAW0F,EAAhB,SAAsCC,IAUtC,qBAAK3F,UAAU,gBAAf,SACE,sBAAMA,UAAWkE,EAAsB8B,MAAO,CAACC,SAAU,IAAzD,SACGhC,MAGL,qBAAKjE,UAAU,UAAf,SACE,cAACkG,EAAD,CACExI,aAAcA,EACdC,aAAc4F,EAAqB9F,KACnC0I,aAAcrC,EACdsC,cAAehC,MAGnB,sBAAKpE,UAAU,eAAf,UACE,qBAAKA,UAAU,kDAAkDqG,QAAS7B,EAA1E,oBACA,qBAAKxE,UAAU,mDAAmDqG,QAAS5B,IAC3E,qBAAKzE,UAAU,kDAAkDqG,QAASxB,EAA1E,sBAEF,sBAAK7E,UAAU,eAAegG,MAAO,CAACM,UAAW,IAAjD,UACIV,OAA4DnD,EAApC,qBAAKuD,MAAO,CAACO,KAAM,SAC7C,qBAAKvG,UAAU,kDAAkDqG,QAASjD,EAAMoD,QAAhF,yBACCZ,EAAwB,qBAAK5F,UAAU,kDAAkDqG,QAASjD,EAAMqD,cAAhF,gCAAqHhE,EAC5ImD,OAA4DnD,EAApC,qBAAKuD,MAAO,CAACO,KAAM,iBAOvD,SAASG,EAAStD,GAUhB,IADA,IAAMuD,EAAe,GACZxJ,EAAI,EAAGA,GAAK,EAAGA,IAAK,CAC3B,IAAIgB,EAAI,kBACJhB,EAAIiG,EAAMwD,aACZzI,GAAK,cAEPwI,EAAa9D,KAAK,sBAAM7C,UAAW7B,KAGrC,IAAM0I,EAAgB,GAChBC,EAAW,YAAO1D,EAAM2D,OAC1B3D,EAAMC,MAAM2D,cACdF,EAAYvF,OAdb,oBAgBgBuF,GAhBhB,IAgBD,2BAA8B,CAAC,IAAtBrJ,EAAqB,QAC5BoJ,EAAchE,KAAK,6BAAI,sBAAM7C,UAAU,aAAhB,SAA8BvC,QAjBtD,8BAoBD,IAAIwJ,EAAgB,qBAChB7D,EAAMwD,YAAc,IACtBK,GAAiB,UAGnB,MAAoD3D,mBAAS,GAA7D,mBAAO4D,EAAP,KAA2BC,EAA3B,KACA,EAA4C7D,mBAAS,GAArD,mBAAO8D,EAAP,KAAuBC,EAAvB,KACMC,EAAgB,WACpB,IAAIC,EAAW,EACf,GAAIH,EAAiBF,EAAoB,CACvC,IAAMM,EAAKzK,SAAS0K,uBAAuB,yBAAyB,GAC9DC,EAAK3K,SAAS4K,cAAc,+BAClC,GAAIH,GAAME,EAAI,CACZ,IAAME,EAAkBJ,EAAGK,wBAAwBC,OAAS,GACtDC,EAAgBL,EAAGG,wBAAwBC,OAAS,EACpDE,EAAoB5I,KAAK4D,MAAM4E,EAAkBG,GACvDR,EAAWnI,KAAK6I,KAAM7E,EAAM2D,MAAM3J,OAAS,EAAK4K,IAGpDb,EAAsBI,GAClBH,GAAkBG,GACpBF,EAAkB,IAGtBrF,oBAAUsF,GACV7F,EAAiB,SAAU6F,GAE3B,IAAIY,OAA2CzF,EAmC/C,OAlCIyE,EAAqB,IACvBgB,EAAkB,sBAAKlI,UAAU,WAAf,UAChB,wBAAQmI,KAAK,SAASnI,UAAW,4BAA8BoH,EAAiB,EAAI,UAAY,IAAKf,QAAS,WAC5G,GAAIe,EAAiB,EAAG,CACtBC,GAAkB,SAAClK,GAAD,OAAOA,EAAI,KAC7B,IAAMoI,EAAIxI,SAAS0K,uBAAuB,6BAA6BL,EAAiB,GACpF7B,GACFA,EAAE6C,mBALR,SASE,sBAAMpI,UAAU,cAAhB,oBAEA,WAEA,IADA,IAAIlC,EAAI,GACCX,EAAI,EAAGA,EAAI+J,EAAoB/J,IACtCW,EAAE+E,KAAK,qBAAK7C,UAAW,UAAYoH,IAAmBjK,EAAI,UAAY,OAExE,OAAOW,EALP,GAOF,wBAAQqK,KAAK,SAASnI,UAAW,4BAA8BoH,EAAkBF,EAAqB,EAAK,UAAY,IAAKb,QAAS,WACnI,GAAIe,EAAiBF,EAAqB,EAAG,CAC3CG,GAAkB,SAAClK,GAAD,OAAOA,EAAI,KAC7B,IAAMoI,EAAIxI,SAAS0K,uBAAuB,6BAA6BL,EAAiB,GACpF7B,GACFA,EAAE6C,mBALR,SASE,sBAAMpI,UAAU,cAAhB,wBAMJ,sBAAKA,UAAU,gBAAf,UACE,qBAAKA,UAAU,kBAAf,SACE,sBAAMqI,KAAK,eAAX,SACE,sBAAKrI,UAAU,cAAcsI,MAAM,uCAAkCjC,QAASjD,EAAMmF,eAApF,UACE,oBAAIvI,UAAU,mBAAd,SAAkCoD,EAAMoF,WACxC,sBAAKxI,UAAU,mBAAf,UACE,qBAAKA,UAAU,mBAAf,SACG2G,IAEH,qBAAK3G,UAAWiH,EAAejB,MAAO,CAACyC,KAA0B,KAAnBrF,EAAMwD,WAAqB,KAAzE,SAA+E,sBAAM5G,UAAU,oBAAhB,SAAqCoD,EAAMsF,oBAKlI,sBAAK1I,UAAU,kBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,qBAAKA,UAAU,2CAAf,SACE,sBAAKA,UAAU,sBAAf,4BAA4E,IAAvBoD,EAAM2D,MAAM3J,OAAe,SAA3B,UAAyCgG,EAAM2D,MAAM3J,OAArD,iBAUzD,qBAAK4C,UAAU,+BAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,sBAAKA,UAAU,kBAAf,UACI,WAEA,IADA,IAAIlC,EAAI,GACCX,EAAI,EAAGA,EAAI+J,EAAoB/J,IACtCW,EAAE+E,KAAK,qBAAK7C,UAAU,4BAA4BgG,MAAO,CAACyC,KAAW,IAAJtL,EAAW,QAE9E,OAAOW,EALP,GAOF,oBAAIkC,UAAU,wBAAd,SACG6G,OAGJqB,aASb,SAAShC,EAAK9C,GAMZ,IAAIuF,EAAc,OACdvF,EAAM+C,eAAiB7D,EAAiBoC,SAC1CiE,GAAe,YACNvF,EAAM+C,eAAiB7D,EAAiBsG,UACjDD,GAAe,aACNvF,EAAM+C,eAAiB7D,EAAiBsC,UACjD+D,GAAe,YAGjB,MAAoCrF,mBAAS,EAAC,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,IAAlF,mBAAOuF,EAAP,KAAmBC,EAAnB,KAEMC,EAAkB,SAACC,EAAWC,GAClCH,GAAc,SAACI,GACb,IAAM/K,EAAC,YAAO+K,GAEd,OADA/K,EAAE6K,GAAKC,EACA9K,MAILgL,EAAU,SAACC,EAAmBJ,GAClC,OAAO,sBACL3C,QAAS,kBAAMjD,EAAMgD,cAAcgD,EAAWhG,EAAM1F,aAAa,GAAK0F,EAAMzF,aAAaqL,KACzFK,YAAa,kBAAMN,EAAgBC,GAAG,IACtCM,UAAW,kBAAMP,EAAgBC,GAAG,IACpChJ,UAAW,aAAeoJ,EAAW,UAAY,UACjDG,QAAQ,6BALH,UAOL,yBAASvJ,UAAW,aAAe6I,EAAWG,GAAK,eAAiB,IAAK5D,OAAO,kGAAkGoE,OAAO,QAAQC,eAAa,QAE9M,sBAAMzJ,UAAU,cAAchC,EAAE,MAAM0L,EAAE,MAAMC,GAAG,SAAjD,SAA2DP,EAAWhG,EAAM1F,aAAa,GAAK0F,EAAMzF,aAAaqL,SAI/GY,EAAuB,GAS7B,OARAA,EAAM/G,KAAKsG,GAAQ,EAAM,IACzBS,EAAM/G,KAAKsG,GAAQ,EAAO,IAC1BS,EAAM/G,KAAKsG,GAAQ,EAAO,IAC1BS,EAAM/G,KAAKsG,GAAQ,EAAO,IAC1BS,EAAM/G,KAAKsG,GAAQ,EAAO,IAC1BS,EAAM/G,KAAKsG,GAAQ,EAAO,IAC1BS,EAAM/G,KAAKsG,GAAQ,EAAO,IAGxB,qBAAKnJ,UAAW2I,EAAhB,SACGiB,IAKP,SAASC,EAAYnB,EAAezJ,GAClC,IADqG,EACjG2H,GAAc,EACd4B,EAAW,GAFsF,cAG3EvJ,GAH2E,IAGrG,2BAAiC,CAAC,IAAD,yBAAvB6K,EAAuB,KAAjBC,EAAiB,KAC/B,KAAID,GAAQpB,GAGV,MAFA9B,GAAc,EAIhB4B,EAAWuB,GATwF,8BAWrG,MAAO,CAACvB,WAAU5B,cAkEpB,SAASd,EAA4BC,GACnC,IAAMiE,EAAOjE,EAAc,QAAU,OACjCkE,EAAkB,EAChBtH,EAAId,OAAOqI,aAAaC,QAApB,mCAAwDH,IAIlE,OAHIrH,GAAKyH,SAASzH,GAAK,IACrBsH,EAAkBG,SAASzH,IAEtBsH,EA6NT,SAASI,EAAOjH,GAYd,IACIkH,EAAqB,mBADVlH,EAAMmH,cAAgBnH,EAAMoH,WAAapH,EAAMqH,mBAG5DH,GAAsB,kBAEpBlH,EAAMsH,YACRJ,GAAsB,qBA6CxB,IA1CA,IAAMK,EACJ,sBAAKtC,KAAK,SAASrI,UAAU,oCAAoCqG,QAAS,SAACd,GAAOA,EAAEqF,mBAApF,UACE,qBAAKvC,KAAK,SAASrI,UAAU,iBAAiBqG,QAAS,SAACd,GAAOnC,EAAMyH,eAAgBtF,EAAEqF,mBAAvF,kBACA,sBAAK5K,UAAU,mBAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,qBAAIA,UAAU,iBAAd,mBAAsCoD,EAAMyC,OAAS,KACrD,mBAAG7F,UAAU,mBAAb,iJAIF,sBAAKA,UAAU,gBAAf,UACE,oBAAIA,UAAU,gBAAd,SACIoD,EAAMC,MAAMpE,MAAMgB,KAAI,mCAAEnC,EAAF,KAAKmL,EAAL,YAAY,+BAAI,sBAAMjJ,UAAU,gBAAhB,SAAiCiJ,IAArC,KAAiDnL,EAAjD,YAGpCsF,EAAMC,MAAMyH,2BAMhBC,EACJ,sBAAK1C,KAAK,SAASrI,UAAU,oCAAoCqG,QAAS,SAACd,GAAOA,EAAEqF,mBAApF,UACE,qBAAKvC,KAAK,SAASrI,UAAU,iBAAiBqG,QAAS,SAACd,GAAOnC,EAAMyH,eAAgBtF,EAAEqF,mBAAvF,kBACA,sBAAK5K,UAAU,mBAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,oBAAIA,UAAU,iBAAd,0BACA,oBAAGA,UAAU,mBAAb,iKACwJoD,EAAMyC,OAAS,EADvK,WAIF,qBAAK7F,UAAU,gBAAf,SACE,sBAAKA,UAAU,4BAA4BgG,MAAO,CAACM,UAAW,IAA9D,UACE,wBAAQD,QAASjD,EAAMoD,QAAS2B,KAAK,SAASnI,UAAU,4BAAxD,mBACA,wBAAQqG,QAASjD,EAAMyH,aAAc1C,KAAK,SAASnI,UAAU,8BAA8BgG,MAAO,CAACgF,aAAc,GAAjH,+BAOJC,EAAsC,CAAC,GAAI,GAAI,IAnDpD,WAoDQ9N,GACP8N,EAAmB7L,KAAK4D,MAAM7F,EAAE,IAAI0F,KAClC,yBAAQmD,MAAO,CAACgF,aAAc,EAAGE,SAAU,SAAU7E,QAAS,kBAAMjD,EAAMqD,cAActJ,IAAIgL,KAAK,SAASnI,UAAU,4BAApH,mBAAuJ7C,EAAI,OAFtJA,EAAI,EAAGA,EAAIiC,KAAK+L,IAAI/H,EAAMyC,OAAQC,EAA4B1C,EAAM2C,cAAgB,EAAG5I,IAAM,EAA7FA,GAMT,IAAMiO,EACJ,sBAAK/C,KAAK,SAASrI,UAAU,oCAAoCqG,QAAS,SAACd,GAAOA,EAAEqF,mBAApF,UACE,qBAAKvC,KAAK,SAASrI,UAAU,iBAAiBqG,QAAS,SAACd,GAAOnC,EAAMyH,eAAgBtF,EAAEqF,mBAAvF,kBACA,sBAAK5K,UAAU,mBAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,oBAAIA,UAAU,iBAAd,2BACA,mBAAGA,UAAU,mBAAb,4IAIF,sBAAKA,UAAU,gBAAf,UACGiL,EAAmBhL,KAAI,SAACoE,GAAD,OACtB,qBAAKrE,UAAU,4BAA4BgG,MAAO,CAACM,UAAW,GAAI+E,cAAe,MAAOL,aAAc,EAAGM,eAAgB,QAAzH,SACGjH,OAGL,qBAAKrE,UAAU,4BAA4BgG,MAAO,CAACM,UAAW,IAA9D,SAGE,wBAAQD,QAASjD,EAAMyH,aAAc1C,KAAK,SAASnI,UAAU,8BAA8BgG,MAAO,CAACgF,aAAc,GAAjH,+BAOV,OAAQ,qBAAKO,GAAG,qBAAR,SACN,qBAAKvL,UAAWsK,EAAhB,SACE,qBAAKjC,KAAK,eAAerI,UAAU,iBAAnC,SACE,sBAAKA,UAAU,mBAAmBqG,QAASjD,EAAMyH,aAAjD,UACIzH,EAAMmH,aAAeI,OAAgBlI,EACrCW,EAAMoH,UAAYO,OAAatI,EAC/BW,EAAMqH,gBAAkBW,OAAmB3I,Y,SA/zBlDH,O,eAAAA,I,uBAAAA,I,yBAAAA,I,sBAAAA,M,cAubAC,O,+BAAAA,I,6BAAAA,I,+BAAAA,I,mCAAAA,I,iCAAAA,I,4BAAAA,M,KA+YUiJ,MAzTf,WACE,IAAMzF,EAJClE,OAAO4J,SAASC,OAAO5L,QAAQ,UAAY,EAKlD,EAA0BwD,oBAAS,kBAfrC,SAAkCyC,GAChC,IAAMiE,EAAOjE,EAAc,QAAU,OAErC,OADUlE,OAAOqI,aAAaC,QAApB,uBAA4CH,KAI/C,GASkC2B,CAAyB5F,MAAlE,mBAAOlI,EAAP,KACA,GADA,KAC4ByF,oBAAS,kBA9DvC,SAAmCyC,GACjC,IAAMiE,EAAOjE,EAAc,QAAU,OAC/B1C,EAAQxB,OAAOqI,aAAaC,QAApB,uBAA4CH,IAC1D,OAAI3G,EACK+G,SAAS/G,GAEX,EAwDoCuI,CAA0B7F,OAArE,mBAAOF,EAAP,KAAegG,EAAf,KACA,EAA0BvI,oBAAS,kBAtDrC,SAAkCyC,GAChC,IAAMiE,EAAOjE,EAAc,QAAU,OAC/B2C,EAAQ7G,OAAOqI,aAAaC,QAApB,uBAA4CH,IAC1D,OAAItB,EACK0B,SAAS1B,GAEX,EAgDkCoD,CAAyB/F,MAAlE,mBAAO2C,EAAP,KAAcqD,EAAd,KACA,EAAoCzI,oBAAmB,kBA9CzD,SAAuCyC,GACrC,IAAMiE,EAAOjE,EAAc,QAAU,OAC/BnI,EAAaiE,OAAOqI,aAAaC,QAApB,4BAAiDH,IACpE,OAAIpM,EACKA,EAAWV,MAAM,KAEnB,GAwCsD8O,CAA8BjG,MAA3F,mBAAOnI,EAAP,KAAmBqO,EAAnB,KACA,EAAkD3I,oBAAS,GAA3D,mBAAO4I,EAAP,KAA0BC,EAA1B,KACA,EAA4C7I,oBAAS,GAArD,mBAAO8I,EAAP,KAAuBC,EAAvB,KACA,EAAwD/I,oBAAS,GAAjE,mBAAOgJ,EAAP,KAA6BC,EAA7B,KACA,EAA4CjJ,oBAAS,GAArD,mBAAOkJ,EAAP,KAAuBC,EAAvB,KACA,EAAkDnJ,mBAASf,EAAkBmK,cAA7E,mBAAOC,EAAP,KAA0BC,EAA1B,KAEMvJ,GAAS0C,EAAc1E,EAAeD,GAAayE,GAEzD7D,qBAAU,WACR,IAAM6K,EA/CV,SAAoC9G,GAClC,IAAMiE,EAAOjE,EAAc,QAAU,OAErC,OADgBlE,OAAOqI,aAAaC,QAApB,yBAA8CH,KAIvD,KAyC2B8C,CAA2B/G,GACvD8G,GAA8D,IAAnCA,EAAwBzP,QAAgBkE,EAAkB+B,EAAM1F,gBAAkB2D,EAAkBuL,EAAwB9L,MAAM,EAAG,MAClKsC,EAAM3F,aAAemP,EAAwB,GAC7CxJ,EAAM1F,aAAekP,EAAwB9L,MAAM,EAAG,GACtDkL,EAAcrO,EAAW4D,KAAK,KAAKtE,MAAM,OAGtB2M,EAAYnB,EAAOrF,EAAMpE,OAAvC2H,YACW,IAChBgG,EAAqBrK,EAAkBwK,aACvCpI,YAAW,WACTiI,EAAqBrK,EAAkByK,cACvCrI,YAAW,WACTiI,EAAqBrK,EAAkB0K,kBACtC,OACF,QAEJ,IAEHjL,qBAAU,YA/GZ,SAAoC6D,EAAgBxC,EAAcqF,EAAe9K,EAAsBmI,EAAsBlI,GAC3H,IAAMmM,EAAOjE,EAAc,QAAU,OACrClE,OAAOqI,aAAagD,QAApB,uBAA4ClD,GAAQnE,EAAOsH,YAC3DtL,OAAOqI,aAAagD,QAApB,uBAA4ClD,GAAQtB,EAAMyE,YAC1DtL,OAAOqI,aAAagD,QAApB,4BAAiDlD,GAAQpM,EAAW4D,KAAK,MACzEK,OAAOqI,aAAagD,QAApB,yBAA8ClD,GAAQ3G,EAAM3F,aAAe2F,EAAM1F,cACjFkE,OAAOqI,aAAagD,QAApB,uBAA4ClD,GAAQnM,GAEpD,IAAIoM,EAAkB,EAChBtH,EAAId,OAAOqI,aAAaC,QAApB,mCAAwDH,IAC9DrH,GAAKyH,SAASzH,GAAK,IACrBsH,EAAkBG,SAASzH,IAEzBkD,EAASoE,GACXpI,OAAOqI,aAAagD,QAApB,mCAAwDlD,GAAQnE,EAAOsH,YAkGvEC,CAA2BvH,EAAQxC,EAAOqF,EAAO9K,EAAYmI,EAAalI,KACzE,CAACgI,EAAQ6C,EAAO9K,IAEnB,MAA+BiM,EAAYnB,EAAOrF,EAAMpE,OAAjDuJ,EAAP,EAAOA,SAAU5B,EAAjB,EAAiBA,WAiCXyG,EAAmB,WACvBZ,GAAkB,GAClB9H,YAAW,WACTwH,GAAqB,GACrBE,GAAkB,GAClBE,GAAwB,GACxBE,GAAkB,KACjB,MAGDa,EAAqB,uCACrB,CAAC/K,EAAkByK,aAAczK,EAAkBgL,cAAehL,EAAkB0K,gBAAgB/O,SAASyO,KAC/GW,GAAsB,aAEpBX,IAAsBpK,EAAkByK,eAC1CM,GAAsB,WAEpBX,IAAsBpK,EAAkBgL,gBAC1CD,GAAsB,YAExB,IAAIE,GAAmB,kCACnB,CAACjL,EAAkBkL,WAAYlL,EAAkBwK,YAAaxK,EAAkBmK,cAAcxO,SAASyO,KACzGa,IAAoB,aAElBb,IAAsBpK,EAAkBkL,aAC1CD,IAAoB,WAElBb,IAAsBpK,EAAkBwK,cAC1CS,IAAoB,YAGtB,IAAME,GAAkB,WAClBf,IAAsBpK,EAAkB0K,iBAG5CL,EAAqBrK,EAAkBgL,eACvC5I,YAAW,WACLkB,EAASzE,EAAYhE,OAAS,IAChC6O,EAAc,IACdF,EAAS,GACTF,GAAU,SAAC8B,GAAD,OAAQA,EAAK,MAEzBf,EAAqBrK,EAAkBkL,YACvC9I,YAAW,WACTiI,EAAqBrK,EAAkBmK,gBACtC,OACF,OAkCCkB,GAAuB,qBAAKvH,QAASqH,GAAiB1N,UAAU,qCAAqCgG,MAAO,CAAC6H,gBAAiB,SAAvG,SAAiH,wBAAQ1F,KAAK,SAASnI,UAAU,4BAAhC,wBAExI8N,GACJ,sBAAK9N,UAAU,wCAAf,UAEE,qBAAKA,UAAU,qDAAqDgG,MAAO,CAAC6H,gBAAiB,WAC7F,oBAAI7N,UAAU,kCAAkCgG,MAAO,CAAC6H,gBAAiB,SAAzE,oBACA,qBAAI7N,UAAU,0CAA0CgG,MAAO,CAAC6H,gBAAiB,SAAjF,gDAA8H,+BAAKjQ,EAAWR,OAAhB,eAA9H,QAA0K,+BAAKsL,EAAL,gBAA1K,OAEC7C,EAASzE,EAAYhE,OAAS,EAAIwQ,QAAuBnL,EACzDoD,IAAWzE,EAAYhE,OAAS,EAAI,qBAAI4C,UAAU,0CAAd,2DAAsG,2CAAtG,YAAiIyC,KAI1K,OACE,qBAAKzC,UAAU,kDAAf,SACE,qBAAKuL,GAAG,yBAAyBvL,UAAU,aAA3C,SACE,sBAAKA,UAAU,kBAAkBuL,GAAG,uBAAuBvF,MAAO,CAAC+H,gBAAiB,QAASC,SAAU,SAAUC,SAAU,UAAWC,UAAW,GAAjJ,UACE,qBAAK3C,GAAG,sBAAR,SACE,yBAASvL,UAAWsN,EAAoB/B,GAAG,8BAA8BvF,MAAO,CAACmI,WAAY,UAAWH,SAAU,SAAUI,IAAK,GAAjI,SACE,qBAAKpO,UAAU,YAAYgG,MAAO,CAAC+H,gBAAiB,SAApD,SACE,sBAAK/N,UAAU,iCAAf,UACE,wBAAQmI,KAAK,SAASnI,UAAU,mBAAmBqO,aAAW,QAAQhI,QAASqH,GAA/E,kBACC,CAACnL,EAAkByK,aAAczK,EAAkB0K,eAAgB1K,EAAkBgL,eAAerP,SAASyO,GAAqBmB,GAAqB,cAKhK,sBAAK9N,UAAWwN,GAAkBjC,GAAG,0BAA0BvF,MAAO,CAACmI,WAAY,UAAWH,SAAU,SAAUI,IAAK,GAAvH,UACE,cAAC/D,EAAD,CACEhH,MAAOA,EACPwC,OAAQA,EACR0E,aAAc2B,EACd1B,UAAW4B,EACX3B,gBAAiB6B,EACjB5B,UAAW8B,EACXzG,YAAaA,EACb8E,aAAcwC,EACd7G,QA7DQ,WAClB6G,IACAhK,EAAMiL,QAINrC,EAAc,IACdF,EAAS,IAuDCtF,cApDc,SAAC8H,GACzBlB,KACetH,EAAc1E,EAAeD,GAAamN,GACnDD,QAKNzC,EAAU0C,GACVtC,EAAc,IACdF,EAAS,MA4CD,qBAAKR,GAAG,eAAevL,UAAU,gBAAjC,SACE,sBAAKA,UAAU,iBAAf,UACE,cAACmD,EAAD,CAAY0C,OAAQA,EAAQxC,MAAOA,EAAOxF,MAAOA,EAAOyH,YAhJ9C,SAAC7H,EAAcqH,GACrCmH,GAAc,SAACrO,GACb,MAAM,GAAN,mBAAWA,GAAX,CAAuBH,OAEzB,IAAOmJ,EAAciD,EAAY/E,EAAY4D,EAAOrF,EAAMpE,OAAnD2H,WACPmF,GAAS,SAACrD,GAAD,OAAW5D,EAAY4D,KAC5B9B,GAAc,IAChBgG,EAAqBrK,EAAkBwK,aACvCpI,YAAW,WACTiI,EAAqBrK,EAAkByK,cACvCrI,YAAW,WACTiI,EAAqBrK,EAAkB0K,kBACtC,OACF,OAmI6FrP,WAAYA,EAAYmI,YAAaA,EAAaS,QA1EzH,WAC3B6F,GAAkB,IAyEiK5F,cAtElJ,WACjC8F,GAAwB,MAsEZ,cAAC7F,EAAD,CAAUrD,MAAOA,EAAOmF,SAAUA,EAAU5B,WAAYA,EAAY8B,MAAOA,EAAO3B,MAAOnJ,EAAY2K,eAhIxF,WACzB4D,GAAqB,sBClnBVqC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBzJ,MAAK,YAAkD,IAA/C0J,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFnS,SAASoS,eAAe,SAM1BX,M","file":"static/js/main.840921a0.chunk.js","sourcesContent":["// Error Messages\nconst OK = \"ok\";\nconst ALREADY_FOUND = \"Already found\"\nconst NOT_IN_DICTIONARY = \"Not in word list\";\nconst TOO_SHORT = \"Too short\";\nconst MISSING_CENTER = <>Missing&nbsp;center&nbsp;letter</>;\nconst BAD_LETTERS = \"Bad letters\";\n\n// https://docs.djangoproject.com/en/dev/ref/csrf/#ajax\nfunction getCookie(name: string) : string {\n  let cookieValue = '';\n  if (document.cookie && document.cookie !== '') {\n    const cookies = document.cookie.split(';');\n    for (let i = 0; i < cookies.length; i++) {\n      const cookie = cookies[i].trim();\n      // Does this cookie string begin with the name we want?\n      if (cookie.substring(0, name.length + 1) === (name + '=')) {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n        break;\n      }\n    }\n  }\n  return cookieValue;\n}\n\nasync function standardEvaluateWord(\n  word: string,\n  centerLetter: string,\n  outerLetters: string,\n  foundWords: string[],\n  nonce: string,\n  preprocessWord: (w: string) => string = ((x) => x),\n): Promise<string | JSX.Element> {\n  const processedWord = preprocessWord(word);\n  if (foundWords.includes(word)) {\n    return ALREADY_FOUND;\n  }\n  if (processedWord.length < 4) {\n    return TOO_SHORT;\n  }\n  if (!processedWord.includes(centerLetter)) {\n    return MISSING_CENTER;\n  }\n  for (const c of processedWord) {\n    if (!outerLetters.includes(c) && c !== centerLetter) {\n      return BAD_LETTERS;\n    }\n  }\n\n  const data = {\"word\" : word, \"level\" : 0, \"side\" : \"left\", \"nonce\" : nonce};\n  let csrftoken = getCookie('csrftoken');\n  const response = await fetch(\"/puzzle/so-you-think-you-can-count/check_word\",\n    {\n      method: \"POST\",\n      body: JSON.stringify(data),\n      headers: { \"X-CSRFToken\": csrftoken },\n    });\n  const response_data = await response.json();\n\n  if (!response_data['valid']) {\n    return NOT_IN_DICTIONARY;\n  } else {\n    return OK;\n  }\n}\n\nexport class Level {\n  outerLetters: string;\n  centerLetter: string;\n  ranks: [number, string][];\n  additionalData: string[];\n\n  constructor(\n    outerLetters: string,\n    centerLetter: string,\n    queenBeeScore: number,\n    additionalData: string[] = [],\n  ) {\n    this.outerLetters = outerLetters;\n    this.centerLetter = centerLetter;\n    this.additionalData = additionalData;\n    const q = queenBeeScore;\n    // for debugging\n    // const q = 5;\n    this.ranks = [\n      [Math.round(0    * q), 'Beginner'],\n      [Math.round(0.02 * q), 'Good Start'],\n      [Math.round(0.05 * q), 'Moving Up'],\n      [Math.round(0.08 * q), 'Good'],\n      [Math.round(0.15 * q), 'Solid'],\n      [Math.round(0.25 * q), 'Nice'],\n      [Math.round(0.4  * q), 'Great'],\n      [Math.round(0.5  * q), 'Amazing'],\n      [Math.round(0.7  * q), 'Genius'],\n    ];\n  }\n\n  async evaluateWord(word: string, foundWords: string[], nonce: string): Promise<string | JSX.Element> {\n    return standardEvaluateWord(word, this.centerLetter, this.outerLetters, foundWords, nonce);\n  }\n\n  getScore(word: string): number {\n    if (word.length < 4) return 0;\n    if (word.length === 4) return 1;\n    if (this.isPangram(word)) return 7 + word.length;\n    return word.length;\n  }\n\n  isPangram(word: string): boolean {\n    let distinctLetters: {[k: string]: boolean} = {};\n    for (let i = 0; i < word.length; i++) {\n      distinctLetters[word[i]] = true;\n    }\n    return Object.keys(distinctLetters).length >= 7;\n  }\n\n  reset() {\n  }\n\n  shouldSort(): boolean {\n    return true;\n  }\n\n  getModalMessage(): string | JSX.Element {\n    return '';\n  }\n}\n\nclass StandardLevel extends Level {\n  evaluateWord(word: string, foundWords: string[], nonce: string): Promise<string | JSX.Element> {\n    return standardEvaluateWord(\n      word, this.centerLetter, this.outerLetters, foundWords, nonce);\n  }\n}\n\nclass FreeVowelLevel extends Level {\n  evaluateWord(word: string, foundWords: string[], nonce: string): Promise<string | JSX.Element> {\n    return standardEvaluateWord(\n      word, this.centerLetter, this.outerLetters, foundWords, nonce,\n      (w) => {\n        let o = \"\";\n        for (let i = 0; i < w.length; i++) {\n          if (\"bcdfghjklmnpqrstvwxyz\".indexOf(w[i]) > -1) {\n            o += w[i];\n          }\n        }\n        return o;\n      }\n    );\n  }\n\n  isPangram(w: string): boolean {\n    let o = \"\";\n    for (let i = 0; i < w.length; i++) {\n      if (\"bcdfghjklmnpqrstvwxyz\".indexOf(w[i]) > -1) {\n        o += w[i];\n      }\n    }\n    let distinctLetters: {[k: string]: boolean} = {};\n    for (let i = 0; i < o.length; i++) {\n      distinctLetters[o[i]] = true;\n    }\n    return Object.keys(distinctLetters).length >= 7;\n  }\n}\n\nclass NotWordsLevel extends Level {\n  evaluateWord(word: string, foundWords: string[], nonce: string): Promise<string | JSX.Element> {\n    return standardEvaluateWord(\n      word, this.centerLetter, this.outerLetters, foundWords, nonce);\n  }\n\n  getModalMessage(): string | JSX.Element {\n    return (\n      <p className=\"sb-modal-message\">\n        <ul className=\"sb-modal-list\">\n          { this.additionalData.map((clue) => <li>{clue}</li>) }\n        </ul>\n      </p>)\n  }\n}\n\nclass DoubledCenterLevel extends Level {\n  evaluateWord(word: string, foundWords: string[], nonce: string): Promise<string | JSX.Element> {\n    return standardEvaluateWord(\n      word, this.centerLetter, this.outerLetters, foundWords, nonce);\n  }\n\n  getModalMessage(): string | JSX.Element {\n    return (\n      <p className=\"sb-modal-message\">\n        This level isn't very cokie-cuter.\n      </p>)\n  }\n}\n\nclass PokemonLevel extends Level {\n  evaluateWord(word: string, foundWords: string[], nonce: string): Promise<string | JSX.Element> {\n    return standardEvaluateWord(\n      word, this.centerLetter, this.outerLetters, foundWords, nonce);\n  }\n\n  getScore(word: string): number {\n    const pokemon = new Set([\"aggron\", \"aron\", \"gengar\", \"gogoat\", \"rattata\",\n      \"torterra\", \"ditto\", \"dodrio\", \"dratini\", \"nidoran\", \"nidorina\",\n      \"nidorino\"]);\n    if (pokemon.has(word)) {\n      return 400;\n    } else {\n      return super.getScore(word);\n    }\n  }\n\n  getModalMessage(): string | JSX.Element {\n    return (\n      <p className=\"sb-modal-message\">\n        You've got to get them all?\n      </p>)\n  }\n}\n\nclass LetterIncrementLevel extends Level {\n  originalOuterLetters: string;\n\n  constructor(\n    outerLetters: string,\n    centerLetter: string,\n    queenBeeScore: number,\n  ) {\n    super(outerLetters, centerLetter, queenBeeScore);\n    this.originalOuterLetters = outerLetters;\n  }\n\n  async evaluateWord(word: string, foundWords: string[], nonce: string): Promise<string | JSX.Element> {\n    const evaluationResult = await standardEvaluateWord(word, this.centerLetter, this.outerLetters, foundWords, nonce);\n    if (evaluationResult !== \"ok\") {\n      return evaluationResult;\n    }\n    const lettersToIncrement: {[c: string]: boolean} = {};\n    for (let i = 0; i < 6; i++) {\n      if (word.indexOf(this.outerLetters[i]) > -1) {\n        lettersToIncrement[this.outerLetters[i]] = true;\n      }\n    }\n    const incrementLetter = (c: string) => {\n      if (c.charCodeAt(0) < \"z\".charCodeAt(0)) {\n        return String.fromCharCode(c.charCodeAt(0) + 1);\n      } else {\n        return 'a';\n      }\n    }\n\n    // only one copy of a duplicate will increment\n    for (let c in lettersToIncrement) {\n      let i = this.outerLetters.indexOf(c);\n      this.outerLetters = this.outerLetters.slice(0, i) + incrementLetter(c) + this.outerLetters.slice(i + 1);\n    }\n\n    // if we want both copies of a duplicate to increment that'd also be easy to\n    // implement, just comment out 3 lines above and write here\n\n    return evaluationResult;\n  }\n\n  isPangram(w: string): boolean {\n    for (let i = 0; i < this.outerLetters.length; i++){\n      if (w.indexOf(this.outerLetters[i]) === -1) {\n        return false;\n      }\n    }\n    return w.indexOf(this.centerLetter) > -1;\n  }\n\n  reset() {\n    this.outerLetters = this.originalOuterLetters;\n  }\n\n  shouldSort(): boolean {\n    return false;\n  }\n}\n\nclass CenterSwapLevel extends Level {\n  originalOuterLetters: string;\n  originalCenterLetter: string\n\n  constructor(\n    outerLetters: string,\n    centerLetter: string,\n    queenBeeScore: number,\n  ) {\n    super(outerLetters, centerLetter, queenBeeScore);\n    this.originalOuterLetters = outerLetters;\n    this.originalCenterLetter = centerLetter;\n  }\n\n  async evaluateWord(word: string, foundWords: string[], nonce: string): Promise<string | JSX.Element> {\n    const evaluationResult = await standardEvaluateWord(word, this.centerLetter, this.outerLetters, foundWords, nonce);\n    if (evaluationResult !== \"ok\") {\n      return evaluationResult;\n    }\n    const lastLetter = word[word.length - 1];\n    if (lastLetter !== this.centerLetter) {\n      this.outerLetters = this.outerLetters.replace(lastLetter, this.centerLetter);\n      this.centerLetter = lastLetter;\n    }\n    return evaluationResult;\n  }\n\n  reset() {\n    this.outerLetters = this.originalOuterLetters;\n    this.centerLetter = this.originalCenterLetter;\n  }\n}\n\nexport const LEFT_LEVELS: Level[] = [\n  new StandardLevel(\n    \"weidly\",\n    \"r\",\n    460,\n  ),\n  new NotWordsLevel(\n    \"abimry\",\n    \"e\",\n    148,\n    [\n\"BjÃ¶rn Ulvaeus, for example (4 6)\",\n\"Banjo, the video game character (1 4 4)\",\n\"Another name for Silicon Valley (3 4)\",\n\"An unethical way to coax someone with fruit (5 7)\",\n\"An 90s boy band song (3 3 3)\",\n\"An item you can find from the haunted dairy section of the supermarket (5 4)\",\n\"When you need your lashes trimmed, you go to anâ€¦ (3 6)\",\n\"A less common term for an eaglet (5 4)\",\n\"A grizzly's declaration (1 2 1 4)\",\n\"Before the rain in Spain falls on the plain, it travels throughâ€¦ (6 3)\",\n\"You need to be 21 to do this in the US (6 4)\",\n\"William of Orange (4 2 7)\",\n\"An estimate of how long your project will take (5 1 4)\",\n\"ðŸŽµWhen we've said goodbyeðŸŽµ (8 2)\",\n\"A skeletal xylophone with more keys (7 7)\",\n]\n  ),\n  new FreeVowelLevel(\n    \"bcdxyz\",\n    \"m\",\n    218\n  ),\n  new DoubledCenterLevel(\n    \"flated\",\n    \"o\",\n    115\n  ),\n  new CenterSwapLevel(\n    \"ketchd\",\n    \"v\",\n    190\n  ),\n  new PokemonLevel(\n    \"egnort\",\n    \"a\",\n    3412\n  ),\n  new LetterIncrementLevel(\n    \"dehiac\",\n    \"l\",\n    50,\n  ),\n];\n\nexport const RIGHT_LEVELS: Level[] = [\n  new StandardLevel(\n    \"lowbae\",\n    \"d\",\n    550,\n  ),\n  new NotWordsLevel(\n    \"delnpy\",\n    \"a\",\n    202,\n    [\n\"Scream onomatopoeia (7)\",\n\"Physician repellant (2 5 1 3)\",\n\"A fencing weapon without the foil (1 6 4)\",\n\"Sword or Omaha, but partially Spanish (1-3 5)\",\n\"Who you might rent a house on a cul-de-sac from (7 8)\",\n\"What the pilot did upon arriving at the airport (6 1 5)\",\n\"February 29 (4 3)\",\n\"ðŸŽµHey JudeðŸŽµ (?)\",\n\"Batman! (?)\",\n\"When you get a bear instead of gold from a river, you have (6 1 5)\",\n\"A digital method to remunerate the Vatican (5 6)\",\n\"Failed candy bar variant with peanuts, caramel, and fruit (6 6)\",\n\"Sell a foot lever and an oar (6 1 5 3 1 6)\",\n\"A command to get Alexa to queue up Skyfall (4 5)\",\n\"If legacy college admissions were due to genetics, there could be a (4 6)\",\n    ]\n  ),\n  new FreeVowelLevel(\n    \"vwhjkl\",\n    \"y\",\n    227\n  ),\n  new DoubledCenterLevel(\n    \"libreo\",\n    \"t\",\n    134\n  ),\n  new CenterSwapLevel(\n    \"wizady\",\n    \"r\",\n    90\n  ),\n  new PokemonLevel(\n    \"adnort\",\n    \"i\",\n    2885\n  ),\n  new LetterIncrementLevel(\n    \"degian\",\n    \"p\",\n    50,\n  ),\n];\n","import React, { useEffect, useState, useRef } from 'react';\nimport './App.css';\nimport './spelling-bee.css';\nimport { Level, LEFT_LEVELS, RIGHT_LEVELS } from './scoring';\n\nfunction sortLettersInWord(w: string) {\n    return w.split('').sort().join('');\n};\n\n// taken from https://stackoverflow.com/a/57926311\n// Hook\nfunction useEventListener(eventName: string, handler: (e: any) => void, element = window){\n  // Create a ref that stores handler\n  const savedHandler = useRef();\n\n  // Update ref.current value if handler changes.\n  // This allows our effect below to always get latest handler ...\n  // ... without us needing to pass it in effect deps array ...\n  // ... and potentially cause effect to re-run every render.\n  useEffect(() => {\n    savedHandler.current = handler as any;\n  }, [handler]);\n\n  useEffect(\n    () => {\n      // Make sure element supports addEventListener\n      // On\n      const isSupported = element && element.addEventListener;\n      if (!isSupported) return;\n\n      // Create event listener that calls handler function stored in ref\n      const eventListener = (event: any) => (savedHandler.current as any)(event);\n\n      // Add event listener\n      element.addEventListener(eventName, eventListener);\n\n      // Remove event listener on cleanup\n      return () => {\n        element.removeEventListener(eventName, eventListener);\n      };\n    },\n    [eventName, element] // Re-run if eventName or element changes\n  );\n};\n\nlet messageHideTimeout: number | undefined = undefined;\n\nenum HiveShuffleState {\n  NONE = 0,\n  FADE_OUT = 1,\n  SHUFFLING = 2,\n  FADE_IN = 3,\n}\n\nfunction shuffleStr(s: string): {word: string, permutation: number[]} {\n  let word = '';\n  let startingNumbers: number[] = [];\n  for (let i = 0; i < s.length; i++) {\n    startingNumbers.push(i);\n  }\n  const permutation: number[] = [];\n  for (let i = s.length; i > 0; i--) {\n    let r = Math.floor(Math.random() * i);\n    word = word + s[r];\n    permutation.push(startingNumbers[r]);\n    s = s.slice(0, r) + s.slice(r + 1);\n    startingNumbers.splice(r, 1);\n  }\n  return {word, permutation};\n}\n\ninterface SbMessageState {\n  message: string;\n  isError: boolean;\n  points: number;\n  isPangram: boolean;\n}\n\nfunction SbControls(props: {\n  levelI: number,\n  level: Level,\n  nonce: string,\n  foundWords: string[],\n  isRightSide: boolean,\n  onEnterWord: (word: string, wordScore: number) => void,\n  onReset: () => void;\n  onJumpToLevel: () => void;\n}) {\n  const {centerLetter, outerLetters} = props.level;\n  const [shuffledOuterLetters, setShuffledOuterLetters] = useState(shuffleStr(outerLetters));\n  const [inputLetters, setInputLetters] = useState('');\n  const [messageState, setMessageState] = useState<SbMessageState|undefined>(undefined);\n  const [shuffleAnimState, setShuffleAnimState] = useState<HiveShuffleState>(HiveShuffleState.NONE);\n\n  useEffect(() => {\n    if (sortLettersInWord(outerLetters) !== sortLettersInWord(shuffledOuterLetters.word)) {\n      let newShuffledWord = '';\n      for (let i = 0; i < 6; i++) {\n        newShuffledWord += outerLetters[shuffledOuterLetters.permutation[i]];\n      }\n      setShuffledOuterLetters({word: newShuffledWord, permutation: shuffledOuterLetters.permutation});\n    }\n  }, [outerLetters, shuffledOuterLetters.word, shuffledOuterLetters.permutation]);\n\n  let inputDivContents: JSX.Element | JSX.Element[] = <span>&nbsp;</span>;\n  let inputContentDivClass = 'sb-hive-input-content';\n  if (inputLetters.length > 0) {\n    inputContentDivClass += ' non-empty';\n    inputDivContents = [];\n    for (let i = 0; i < inputLetters.length; i++) {\n      let classes = inputLetters[i] === centerLetter ? 'sb-input-bright' : outerLetters.indexOf(inputLetters[i]) === -1 ? 'sb-input-invalid' : '';\n      inputDivContents.push(<span className={classes}>{inputLetters[i]}</span>);\n    }\n  }\n\n  const handleClickLetter = (l: string) => {\n    setInputLetters((inputLetters) => {\n      if (messageState && messageState.isError) {\n        return l;\n      }\n      return inputLetters + l;\n    });\n    if (messageState && messageState.isError) {\n      setMessageState(undefined);\n      window.clearTimeout(messageHideTimeout);\n    }\n  }\n\n  const handleDelete = () => {\n    setInputLetters((inputLetters) => {\n      if (inputLetters.length > 0) {\n        return inputLetters.slice(0, inputLetters.length - 1);\n      }\n      return '';\n    });\n  }\n\n  const handleShuffle = () => {\n    if (shuffleAnimState !== HiveShuffleState.NONE) {\n      return;\n    }\n\n    setShuffleAnimState(HiveShuffleState.FADE_OUT);\n    setTimeout(() => {\n      setShuffledOuterLetters(shuffleStr(outerLetters));\n      setShuffleAnimState(HiveShuffleState.FADE_IN);\n      setTimeout(() => {\n        setShuffleAnimState(HiveShuffleState.NONE);\n      }, 300);\n    }, 300);\n  }\n\n  const flashSuccessMessage = (word: string, wordScore: number, isPangram: boolean) => {\n    if (messageHideTimeout) window.clearTimeout(messageHideTimeout);\n\n    setMessageState({\n      message: isPangram ? \"Pangram!\" : word.length >= 7 ? \"Awesome!\" : word.length >= 5 ? \"Nice!\" : \"Good!\",\n      points: wordScore,\n      isPangram: isPangram,\n      isError: false,\n    });\n\n    messageHideTimeout = window.setTimeout(() => {\n      setMessageState(undefined);\n    }, 900);\n  }\n\n  const flashErrorMessage = (message: any) => {\n    if (messageHideTimeout) window.clearTimeout(messageHideTimeout);\n\n    setMessageState({\n      message,\n      points: 0,\n      isPangram: false,\n      isError: true,\n    });\n\n    messageHideTimeout = window.setTimeout(() => {\n      setMessageState(undefined);\n      setInputLetters('');\n    }, 1100);\n  }\n\n  const handleEnter = () => {\n    const word = inputLetters;\n    if (word.length > 0) {\n      // Calculate isPangram and wordScore before calling evaluateWord, since\n      // the latter can mutate state.\n      let isPangram = props.level.isPangram(word);\n      let wordScore = props.level.getScore(word);\n      let resultPromise = props.level.evaluateWord(word, props.foundWords, props.nonce);\n      resultPromise.then(result => {\n        if (result !== \"ok\") {\n          flashErrorMessage(result);\n          return;\n        } else {\n          setInputLetters('');\n          flashSuccessMessage(word, wordScore, isPangram);\n          props.onEnterWord(word, wordScore);\n        }\n      });\n    }\n  }\n\n  useEventListener('keydown', (e) => {\n    const key = e.key;\n    if (key.length === 1 && key.match(/[a-z]/i)) {\n      handleClickLetter(key);\n    } else if (key === 'Backspace') {\n      handleDelete();\n    } else if (key === 'Enter') {\n      handleEnter();\n    } else if (key === ' ') {\n      handleShuffle();\n    }\n  });\n\n  let sbMessageBoxClasses = 'sb-message-box';\n  let sbMessageContents = [];\n  if (messageState != null) {\n    sbMessageContents.push(<span className=\"sb-message\">{messageState.message}</span>);\n    if (messageState.isError) {\n      sbMessageBoxClasses += ' error-message';\n      inputContentDivClass += ' has-error';\n    } else {\n      sbMessageContents.push(<span className=\"sb-message-points\">+{messageState.points}</span>);\n      sbMessageBoxClasses += ' success-message';\n      if (messageState.isPangram) {\n        sbMessageBoxClasses += ' pangram-message';\n      }\n    }\n  }\n\n  const showJumpToLevelButton = (props.levelI > 0 || getMaxLevelFromLocalstorage(props.isRightSide) > 0);\n\n  return (\n    <div className=\"sb-controls-box\">\n      <div className=\"sb-controls\">\n        <div className={sbMessageBoxClasses}>{sbMessageContents}</div>\n        {/* <div className=\"sb-message-box\"></div> */}\n        {/* <div className=\"sb-message-box success-message pangram-message\">\n          <span className=\"sb-message\">Pangram!</span>\n          <span className=\"sb-message-points\">+14</span>\n        </div> */}\n        {/* <div className=\"sb-message-box success-message\">\n          <span className=\"sb-message\">Nice!</span>\n          <span className=\"sb-message-points\">+5</span>\n        </div> */}\n        <div className='sb-hive-input'>\n          <span className={inputContentDivClass} style={{fontSize: 32}}>\n            {inputDivContents}\n          </span>\n        </div>\n        <div className=\"sb-hive\">\n          <Hive\n            centerLetter={centerLetter}\n            outerLetters={shuffledOuterLetters.word}\n            shuffleState={shuffleAnimState}\n            onClickLetter={handleClickLetter}\n          />\n        </div>\n        <div className=\"hive-actions\">\n          <div className=\"hive-action hive-action__delete sb-touch-button\" onClick={handleDelete}>Delete</div>\n          <div className=\"hive-action hive-action__shuffle sb-touch-button\" onClick={handleShuffle}></div>\n          <div className=\"hive-action hive-action__submit sb-touch-button\" onClick={handleEnter}>Enter</div>\n        </div>\n        <div className=\"hive-actions\" style={{marginTop: 16}}>\n          {!showJumpToLevelButton ? <div style={{flex: '0.5'}}></div> : undefined}\n          <div className=\"hive-action hive-action__delete sb-touch-button\" onClick={props.onReset}>Reset Level</div>\n          {showJumpToLevelButton ? <div className=\"hive-action hive-action__delete sb-touch-button\" onClick={props.onJumpToLevel}>Jump to Level</div> : undefined}\n          {!showJumpToLevelButton ? <div style={{flex: '0.5'}}></div> : undefined}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction SbStatus(props: {\n  level: Level\n  rankName: string,\n  rankNumber: number,\n  score: number,\n  words: string[],\n  onShowRankings: () => void,\n}) {\n\n  const progressDots = [];\n  for (let i = 0; i <= 8; i++) {\n    let c = \"sb-progress-dot\";\n    if (i < props.rankNumber) {\n      c += \" completed\";\n    }\n    progressDots.push(<span className={c}></span>);\n  }\n\n  const wordlistItems = [];\n  const sortedWords = [...props.words];\n  if (props.level.shouldSort()) {\n    sortedWords.sort();\n  }\n  for (let word of sortedWords) {\n    wordlistItems.push(<li><span className=\"sb-anagram\">{word}</span></li>);\n  }\n\n  let markerClasses = \"sb-progress-marker\";\n  if (props.rankNumber >= 8) {\n    markerClasses += \" final\";\n  }\n\n  const [numPaginationPages, setNumPaginationPages] = useState(1);\n  const [paginationPage, setPaginationPage] = useState(0);\n  const resizeHandler = () => {\n    let numPages = 0;\n    if (paginationPage < numPaginationPages) {\n      const ce = document.getElementsByClassName(\"sb-wordlist-items-pag\")[0];\n      const le = document.querySelector(\".sb-wordlist-items-pag > li\");\n      if (ce && le) {\n        const containerHeight = ce.getBoundingClientRect().height - 24;\n        const elementHeight = le.getBoundingClientRect().height + 8;\n        const elementsPerColumn = Math.floor(containerHeight / elementHeight);\n        numPages = Math.ceil((props.words.length / 3) / elementsPerColumn);\n      }\n    }\n    setNumPaginationPages(numPages);\n    if (paginationPage >= numPages) {\n      setPaginationPage(0);\n    }\n  };\n  useEffect(resizeHandler);\n  useEventListener('resize', resizeHandler);\n\n  let paginationKebob: undefined | JSX.Element = undefined;\n  if (numPaginationPages > 1) {\n    paginationKebob = <div className=\"sb-kebob\">\n      <button type=\"button\" className={\"sb-bob-arrow sb-bob-prev\" + (paginationPage > 0 ? \" active\" : \"\")} onClick={() => {\n        if (paginationPage > 0) {\n          setPaginationPage((i) => i - 1);\n          const e = document.getElementsByClassName(\"sb-wordlist-scroll-anchor\")[paginationPage - 1];\n          if (e) {\n            e.scrollIntoView();\n          }\n        }\n      }}>\n        <span className=\"sb-bob-text\">Prev</span>\n      </button>\n      {(() => {\n        let a = [];\n        for (let i = 0; i < numPaginationPages; i++) {\n          a.push(<div className={\"sb-bob\" + (paginationPage === i ? \" active\" : \"\")}></div>);\n        }\n        return a;\n      })()}\n      <button type=\"button\" className={\"sb-bob-arrow sb-bob-next\" + (paginationPage < (numPaginationPages - 1) ? \" active\" : \"\")} onClick={() => {\n        if (paginationPage < numPaginationPages - 1) {\n          setPaginationPage((i) => i + 1);\n          const e = document.getElementsByClassName(\"sb-wordlist-scroll-anchor\")[paginationPage + 1];\n          if (e) {\n            e.scrollIntoView();\n          }\n        }\n      }}>\n        <span className=\"sb-bob-text\">Next</span>\n      </button>\n    </div>;\n  }\n\n  return (\n    <div className=\"sb-status-box\">\n      <div className=\"sb-progress-box\">\n        <span role=\"presentation\">\n          <div className=\"sb-progress\" title=\"Click to see this levelâ€™s ranks\" onClick={props.onShowRankings}>\n            <h4 className=\"sb-progress-rank\">{props.rankName}</h4>\n            <div className=\"sb-progress-line\">\n              <div className=\"sb-progress-dots\">\n                {progressDots}\n              </div>\n              <div className={markerClasses} style={{left: (props.rankNumber * 12.5) + \"%\"}}><span className=\"sb-progress-value\">{props.score}</span></div>\n            </div>\n          </div>\n        </span>\n      </div>\n      <div className=\"sb-wordlist-box\">\n        <div className=\"sb-wordlist-heading\">\n          <div className=\"sb-wordlist-heading-wrap sb-touch-button\">\n            <div className=\"sb-wordlist-summary\">You have found {props.words.length === 1 ? '1 word' : `${props.words.length} words`}</div>\n            {/* this is a foldout menu for the mobile web interface, probably won't implement this */}\n            {/* <div className=\"sb-recent-words-wrap\">\n              <ul className=\"sb-recent-words sb-has-words\">\n                <li><span className=\"sb-anagram\">ligh<span className=\"sb-anagram-key\">t</span>ed</span></li>\n              </ul>\n            </div> */}\n            {/* <div className=\"sb-toggle-expand\"><span className=\"sb-toggle-icon\"></span></div> */}\n          </div>\n        </div>\n        <div className=\"sb-wordlist-drawer paginated\">\n          <div className=\"sb-wordlist-window paginated\">\n            <div className=\"sb-wordlist-pag\">\n              {(() => {\n                let a = [];\n                for (let i = 0; i < numPaginationPages; i++) {\n                  a.push(<div className=\"sb-wordlist-scroll-anchor\" style={{left: (i * 100) + \"%\"}}></div>);\n                }\n                return a;\n              })()}\n              <ul className=\"sb-wordlist-items-pag\">\n                {wordlistItems}\n              </ul>\n            </div>\n            {paginationKebob}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\nfunction Hive(props: {\n  centerLetter: string,\n  outerLetters: string,\n  shuffleState: HiveShuffleState,\n  onClickLetter: (l: string) => void,\n}) {\n  let hiveClasses = \"hive\";\n  if (props.shuffleState === HiveShuffleState.FADE_OUT) {\n    hiveClasses += \" fade-out\";\n  } else if (props.shuffleState === HiveShuffleState.SHUFFLING) {\n    hiveClasses += \" shuffling\";\n  } else if (props.shuffleState === HiveShuffleState.FADE_IN) {\n    hiveClasses += \" fade-in\";\n  }\n\n  const [mousedowns, setMousedowns] = useState([false,false,false,false,false,false,false]);\n\n  const setHexMouseDown = (n: number, b: boolean) => {\n    setMousedowns((ms) => {\n      const c = [...ms];\n      c[n] = b;\n      return c;\n    });\n  }\n\n  const makeHex = (isCenter: boolean, n: number) => {\n    return <svg\n      onClick={() => props.onClickLetter(isCenter ? props.centerLetter[0] : props.outerLetters[n])}\n      onMouseDown={() => setHexMouseDown(n, true)}\n      onMouseUp={() => setHexMouseDown(n, false)}\n      className={\"hive-cell\" + (isCenter ? \" center\" : \" outer\")}\n      viewBox=\"0 0 120 103.92304845413263\"\n    >\n      <polygon className={\"cell-fill\" + (mousedowns[n] ? \" push-active\" : \"\")} points=\"0,51.96152422706631 30,0 90,0 120,51.96152422706631 90,103.92304845413263 30,103.92304845413263\" stroke=\"white\" stroke-width=\"7.5\">\n      </polygon>\n      <text className=\"cell-letter\" x=\"50%\" y=\"50%\" dy=\"11.25%\">{isCenter ? props.centerLetter[0] : props.outerLetters[n]}</text>\n    </svg>\n  };\n\n  const hexes: JSX.Element[] = [];\n  hexes.push(makeHex(true, 6));\n  hexes.push(makeHex(false, 0));\n  hexes.push(makeHex(false, 1));\n  hexes.push(makeHex(false, 2));\n  hexes.push(makeHex(false, 3));\n  hexes.push(makeHex(false, 4));\n  hexes.push(makeHex(false, 5));\n\n  return (\n    <div className={hiveClasses}>\n      {hexes}\n    </div>\n  )\n}\n\nfunction scoreToRank(score: number, ranks: [number, string][]): {rankName: string, rankNumber: number} {\n  let rankNumber = -1;\n  let rankName = '';\n  for (let [rnum, rname] of ranks) {\n    if (rnum <= score) {\n      rankNumber += 1;\n    } else {\n      break;\n    }\n    rankName = rname;\n  }\n  return {rankName, rankNumber}\n}\n\nenum GeniusMomentState {\n  GAME_VISIBLE,\n  GAME_FLYOUT,\n  GENIUS_FLYIN,\n  GENIUS_VISIBLE,\n  GENIUS_FLYOUT,\n  GAME_FLYIN,\n}\n\nfunction saveProgressToLocalstorage(levelI: number, level: Level, score: number, foundWords: string[], isRightSide: boolean, nonce: string) {\n  const side = isRightSide ? 'right' : 'left';\n  window.localStorage.setItem(`sytycs-level-${side}`, levelI.toString());\n  window.localStorage.setItem(`sytycs-score-${side}`, score.toString());\n  window.localStorage.setItem(`sytycs-foundwords-${side}`, foundWords.join(','));\n  window.localStorage.setItem(`sytycs-letters-${side}`, level.centerLetter + level.outerLetters);\n  window.localStorage.setItem(`sytycs-nonce-${side}`, nonce)\n\n  let maxLevelReached = 0;\n  const s = window.localStorage.getItem(`sytycs-max-level-reached-${side}`);\n  if (s && parseInt(s) > 0) {\n    maxLevelReached = parseInt(s);\n  }\n  if (levelI > maxLevelReached) {\n    window.localStorage.setItem(`sytycs-max-level-reached-${side}`, levelI.toString());\n  }\n}\n\nfunction getLevelIFromLocalstorage(isRightSide: boolean): number {\n  const side = isRightSide ? 'right' : 'left';\n  const level = window.localStorage.getItem(`sytycs-level-${side}`);\n  if (level) {\n    return parseInt(level);\n  }\n  return 0;\n}\n\nfunction getScoreFromLocalstorage(isRightSide: boolean): number {\n  const side = isRightSide ? 'right' : 'left';\n  const score = window.localStorage.getItem(`sytycs-score-${side}`);\n  if (score) {\n    return parseInt(score);\n  }\n  return 0;\n}\n\nfunction getFoundWordsFromLocalstorage(isRightSide: boolean): string[] {\n  const side = isRightSide ? 'right' : 'left';\n  const foundWords = window.localStorage.getItem(`sytycs-foundwords-${side}`);\n  if (foundWords) {\n    return foundWords.split(',');\n  }\n  return [];\n}\n\nfunction getLettersFromLocalstorage(isRightSide: boolean): string | null {\n  const side = isRightSide ? 'right' : 'left';\n  const letters = window.localStorage.getItem(`sytycs-letters-${side}`);\n  if (letters) {\n    return letters;\n  }\n  return null;\n}\n\nfunction getMaxLevelFromLocalstorage(isRightSide: boolean): number {\n  const side = isRightSide ? 'right' : 'left';\n  let maxLevelReached = 0;\n  const s = window.localStorage.getItem(`sytycs-max-level-reached-${side}`);\n  if (s && parseInt(s) > 0) {\n    maxLevelReached = parseInt(s);\n  }\n  return maxLevelReached;\n}\n\nfunction getNonceFromLocalstorage(isRightSide: boolean): string {\n  const side = isRightSide ? 'right' : 'left';\n  const s = window.localStorage.getItem(`sytycs-nonce-${side}`);\n  if (s) {\n    return s\n  }\n  return '';\n}\n\nfunction showRightSide(): boolean {\n  return window.location.search.indexOf('right') > -1;\n}\n\nfunction App() {\n  const isRightSide = showRightSide();\n  const [nonce, setNonce] = useState(() => getNonceFromLocalstorage(isRightSide));\n  const [levelI, setLevelI] = useState(() => getLevelIFromLocalstorage(isRightSide));\n  const [score, setScore] = useState(() => getScoreFromLocalstorage(isRightSide));\n  const [foundWords, setFoundWords] = useState<string[]>(() => getFoundWordsFromLocalstorage(isRightSide));\n  const [rankingsModalOpen, setRankingsModalOpen] = useState(false);\n  const [resetModalOpen, setResetModalOpen] = useState(false);\n  const [jumpToLevelModalOpen, setJumpToLevelModalOpen] = useState(false);\n  const [isModalClosing, setIsModalClosing] = useState(false);\n  const [geniusMomentState, setGeniusMomentState] = useState(GeniusMomentState.GAME_VISIBLE);\n\n  const level = (isRightSide ? RIGHT_LEVELS : LEFT_LEVELS)[levelI];\n\n  useEffect(() => {\n    const lettersFromLocalstorage = getLettersFromLocalstorage(isRightSide); // window.localStorage.getItem(\"sytycs-letters\");\n    if (lettersFromLocalstorage && lettersFromLocalstorage.length === 7 && sortLettersInWord(level.outerLetters) !== sortLettersInWord(lettersFromLocalstorage.slice(1, 7))) {\n      level.centerLetter = lettersFromLocalstorage[0];\n      level.outerLetters = lettersFromLocalstorage.slice(1, 7);\n      setFoundWords(foundWords.join(',').split(','));\n    }\n\n    const {rankNumber} = scoreToRank(score, level.ranks);\n    if (rankNumber >= 8) {\n      setGeniusMomentState(GeniusMomentState.GAME_FLYOUT);\n      setTimeout(() => {\n        setGeniusMomentState(GeniusMomentState.GENIUS_FLYIN);\n        setTimeout(() => {\n          setGeniusMomentState(GeniusMomentState.GENIUS_VISIBLE);\n        }, 600);\n      }, 600);\n    }\n  }, []);\n\n  useEffect(() => {\n    saveProgressToLocalstorage(levelI, level, score, foundWords, isRightSide, nonce);\n  }, [levelI, score, foundWords]);\n\n  const {rankName, rankNumber} = scoreToRank(score, level.ranks);\n\n  // useEffect(() => {\n  //   setGeniusMomentState(GeniusMomentState.GAME_FLYOUT);\n  //   setTimeout(() => {\n  //     setGeniusMomentState(GeniusMomentState.GENIUS_FLYIN);\n  //     setTimeout(() => {\n  //       setGeniusMomentState(GeniusMomentState.GENIUS_VISIBLE);\n  //     }, 600);\n  //   }, 600);\n  // }, []);\n\n  const handleEnterWord = (word: string, wordScore: number) => {\n    setFoundWords((foundWords) => {\n      return [...foundWords, word];\n    });\n    const {rankNumber} = scoreToRank(wordScore + score, level.ranks);\n    setScore((score) => wordScore + score);\n    if (rankNumber >= 8) {\n      setGeniusMomentState(GeniusMomentState.GAME_FLYOUT);\n      setTimeout(() => {\n        setGeniusMomentState(GeniusMomentState.GENIUS_FLYIN);\n        setTimeout(() => {\n          setGeniusMomentState(GeniusMomentState.GENIUS_VISIBLE);\n        }, 600);\n      }, 600);\n    }\n  }\n\n  const handleShowRankings = () => {\n    setRankingsModalOpen(true);\n  }\n\n  const handleCloseModal = () => {\n    setIsModalClosing(true);\n    setTimeout(() => {\n      setRankingsModalOpen(false);\n      setResetModalOpen(false);\n      setJumpToLevelModalOpen(false);\n      setIsModalClosing(false);\n    }, 100);\n  }\n\n  let geniusFrameClasses = \"pz-moment__frame pz-moment__congrats\";\n  if ([GeniusMomentState.GENIUS_FLYIN, GeniusMomentState.GENIUS_FLYOUT, GeniusMomentState.GENIUS_VISIBLE].includes(geniusMomentState)) {\n    geniusFrameClasses += \" on-stage\";\n  }\n  if (geniusMomentState === GeniusMomentState.GENIUS_FLYIN) {\n    geniusFrameClasses += \" fly-in\";\n  }\n  if (geniusMomentState === GeniusMomentState.GENIUS_FLYOUT) {\n    geniusFrameClasses += \" fly-out\";\n  }\n  let gameFrameClasses = \"pz-game-screen pz-moment__frame\";\n  if ([GeniusMomentState.GAME_FLYIN, GeniusMomentState.GAME_FLYOUT, GeniusMomentState.GAME_VISIBLE].includes(geniusMomentState)) {\n    gameFrameClasses += \" on-stage\";\n  }\n  if (geniusMomentState === GeniusMomentState.GAME_FLYIN) {\n    gameFrameClasses += \" fly-in\";\n  }\n  if (geniusMomentState === GeniusMomentState.GAME_FLYOUT) {\n    gameFrameClasses += \" fly-out\";\n  }\n\n  const handleNextLevel = () => {\n    if (geniusMomentState !== GeniusMomentState.GENIUS_VISIBLE) {\n      return;\n    }\n    setGeniusMomentState(GeniusMomentState.GENIUS_FLYOUT);\n    setTimeout(() => {\n      if (levelI < LEFT_LEVELS.length - 1) {\n        setFoundWords([]);\n        setScore(0);\n        setLevelI((li) => li + 1);\n      }\n      setGeniusMomentState(GeniusMomentState.GAME_FLYIN);\n      setTimeout(() => {\n        setGeniusMomentState(GeniusMomentState.GAME_VISIBLE);\n      }, 600);\n    }, 600);\n  }\n\n  const handleShowResetModal = () => {\n    setResetModalOpen(true);\n  }\n\n  const handleShowJumpToLevelModal = () => {\n    setJumpToLevelModalOpen(true);\n  }\n\n  const handleReset = () => {\n    handleCloseModal();\n    level.reset();\n    // window.localStorage.setItem(\"sytycs-letters\", level.centerLetter + level.outerLetters);\n    // window.localStorage.setItem(\"sytycs-score\", \"0\");\n    // window.localStorage.setItem(\"sytycs-foundwords\", \"\");\n    setFoundWords([]);\n    setScore(0);\n  }\n\n  const handleJumpToLevel = (newLevelI: number) => {\n    handleCloseModal();\n    const level = (isRightSide ? RIGHT_LEVELS : LEFT_LEVELS)[newLevelI];\n    level.reset();\n    // window.localStorage.setItem(\"sytycs-letters\", level.centerLetter + level.outerLetters);\n    // window.localStorage.setItem(\"sytycs-score\", \"0\");\n    // window.localStorage.setItem(\"sytycs-foundwords\", \"\");\n    // window.localStorage.setItem(\"sytycs-level\", \"0\");\n    setLevelI(newLevelI);\n    setFoundWords([]);\n    setScore(0);\n  }\n\n  const geniusContinueButton = <div onClick={handleNextLevel} className=\"pz-moment__button-wrapper slide-up\" style={{transitionDelay: \"800ms\"}}><button type=\"button\" className=\"pz-moment__button primary\">Continue</button></div>;\n\n  const geniusModalContent = (\n    <div className=\"pz-moment__content sequence-animation\">\n      {/* The transition that fades these in one at a time is fucked right now and I don't know why */}\n      <div className=\"pz-moment__icon large spelling-bee-smarty slide-up\" style={{transitionDelay: \"200ms\"}}></div>\n      <h1 className=\"pz-moment__title large slide-up\" style={{transitionDelay: \"400ms\"}}>Genius</h1>\n      <h1 className=\"pz-moment__description default slide-up\" style={{transitionDelay: \"600ms\"}}>You reached the highest rank, with <em>{foundWords.length}&nbsp;words</em> and <em>{score}&nbsp;points</em>.</h1>\n      {/* <div className=\"pz-moment__button-wrapper slide-up\" style={{transitionDelay: \"800ms\"}}><button type=\"button\" className=\"pz-moment__button primary\">Keep playing</button><button type=\"button\" className=\"pz-moment__button secondary\">More puzzles</button></div> */}\n      {levelI < LEFT_LEVELS.length - 1 ? geniusContinueButton : undefined}\n      {levelI === LEFT_LEVELS.length - 1 ? <h1 className=\"pz-moment__description default slide-up\">Congratulations! The answer to this puzzle is <em>BUMBLEBEE</em>.</h1> : undefined}\n    </div>\n  );\n\n  return (\n    <div className=\"App pz-page pz-desktop pz-spelling-bee-wordlist\">\n      <div id=\"spelling-bee-container\" className=\"pz-section\">\n        <div className=\"pz-game-wrapper\" id=\"js-hook-game-wrapper\" style={{backgroundColor: \"white\", position: \"static\", overflow: \"visible\", minHeight: 0}}>\n          <div id=\"portal-game-moments\">\n            <section className={geniusFrameClasses} id=\"js-hook-pz-moment__congrats\" style={{visibility: \"visible\", position: \"static\", top: 0}}>\n              <div className=\"pz-moment\" style={{backgroundColor: \"white\"}}>\n                <div className=\"pz-moment__container alternate\">\n                  <button type=\"button\" className=\"pz-moment__close\" aria-label=\"Close\" onClick={handleNextLevel}>Ã—</button>\n                  {[GeniusMomentState.GENIUS_FLYIN, GeniusMomentState.GENIUS_VISIBLE, GeniusMomentState.GENIUS_FLYOUT].includes(geniusMomentState) ? geniusModalContent : null}\n                </div>\n              </div>\n            </section>\n          </div>\n          <div className={gameFrameClasses} id=\"js-hook-pz-moment__game\" style={{visibility: \"visible\", position: \"static\", top: 0}}>\n            <Modals\n              level={level}\n              levelI={levelI}\n              rankingsOpen={rankingsModalOpen}\n              resetOpen={resetModalOpen}\n              jumpToLevelOpen={jumpToLevelModalOpen}\n              isClosing={isModalClosing}\n              isRightSide={isRightSide}\n              onCloseModal={handleCloseModal}\n              onReset={handleReset}\n              onJumpToLevel={handleJumpToLevel}\n            />\n            <div id=\"pz-game-root\" className=\"pz-game-field\">\n              <div className=\"sb-content-box\">\n                <SbControls levelI={levelI} level={level} nonce={nonce} onEnterWord={handleEnterWord} foundWords={foundWords} isRightSide={isRightSide} onReset={handleShowResetModal} onJumpToLevel={handleShowJumpToLevelModal} />\n                <SbStatus level={level} rankName={rankName} rankNumber={rankNumber} score={score} words={foundWords} onShowRankings={handleShowRankings} />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction Modals(props: {\n  level: Level,\n  levelI: number,\n  isClosing: boolean,\n  rankingsOpen: boolean,\n  resetOpen: boolean,\n  jumpToLevelOpen: boolean,\n  isRightSide: boolean,\n  onCloseModal: () => void,\n  onReset: () => void,\n  onJumpToLevel: (n: number) => void,\n}) {\n  const isOpen = props.rankingsOpen || props.resetOpen || props.jumpToLevelOpen /* || other modals */;\n  let modalSystemClasses = \"sb-modal-system\";\n  if (isOpen) {\n    modalSystemClasses += \" sb-modal-open\";\n  }\n  if (props.isClosing) {\n    modalSystemClasses += \" sb-modal-closing\";\n  }\n\n  const rankingsModal = (\n    <div role=\"button\" className=\"sb-modal-frame left-aligned ranks\" onClick={(e) => {e.stopPropagation()}}>\n      <div role=\"button\" className=\"sb-modal-close\" onClick={(e) => {props.onCloseModal(); e.stopPropagation()}}>Ã—</div>\n      <div className=\"sb-modal-content\">\n        <div className=\"sb-modal-header\">\n          <h3 className=\"sb-modal-title\">Level {props.levelI + 1}</h3>\n          <p className=\"sb-modal-message\">\n            Ranks are based on a percentage of possible points in a puzzle. The minimum scores to reach each rank for this levelâ€™s are:\n          </p>\n        </div>\n        <div className=\"sb-modal-body\">\n          <ol className=\"sb-modal-list\">\n            { props.level.ranks.map(([a, b]) => <li><span className=\"sb-modal-rank\">{b}</span> ({a})</li>) }\n          </ol>\n          {/* <p className=\"sb-modal-message\">Think we missed a word?</p> */}\n          { props.level.getModalMessage() }\n        </div>\n      </div>\n    </div>\n  );\n\n  const resetModal = (\n    <div role=\"button\" className=\"sb-modal-frame left-aligned ranks\" onClick={(e) => {e.stopPropagation()}}>\n      <div role=\"button\" className=\"sb-modal-close\" onClick={(e) => {props.onCloseModal(); e.stopPropagation()}}>Ã—</div>\n      <div className=\"sb-modal-content\">\n        <div className=\"sb-modal-header\">\n          <h3 className=\"sb-modal-title\">Reset Level?</h3>\n          <p className=\"sb-modal-message\">\n            Are you sure you want to reset this level? This will clear all the words you&rsquo;ve found and reset your score to zero (but you will stay on level {props.levelI + 1}).\n          </p>\n        </div>\n        <div className=\"sb-modal-body\">\n          <div className=\"pz-moment__button-wrapper\" style={{marginTop: 12}}>\n            <button onClick={props.onReset} type=\"button\" className=\"pz-moment__button primary\">Reset</button>\n            <button onClick={props.onCloseModal} type=\"button\" className=\"pz-moment__button secondary\" style={{marginBottom: 0}} >Cancel</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  const jumpToLevelButtons: JSX.Element[][] = [[], [], []];\n  for (let i = 0; i < Math.max(props.levelI, getMaxLevelFromLocalstorage(props.isRightSide)) + 1; i++) {\n    jumpToLevelButtons[Math.floor(i/3)].push(\n      <button style={{marginBottom: 0, minWidth: '8.7em'}} onClick={() => props.onJumpToLevel(i)} type=\"button\" className=\"pz-moment__button primary\">Level {i + 1}</button>\n    );\n  }\n\n  const jumpToLevelModal = (\n    <div role=\"button\" className=\"sb-modal-frame left-aligned ranks\" onClick={(e) => {e.stopPropagation()}}>\n      <div role=\"button\" className=\"sb-modal-close\" onClick={(e) => {props.onCloseModal(); e.stopPropagation()}}>Ã—</div>\n      <div className=\"sb-modal-content\">\n        <div className=\"sb-modal-header\">\n          <h3 className=\"sb-modal-title\">Jump to Level</h3>\n          <p className=\"sb-modal-message\">\n            Reset the game to the start of any previously visited level. This will cause all of your progress on this level to be lost.\n          </p>\n        </div>\n        <div className=\"sb-modal-body\">\n          {jumpToLevelButtons.map((l) =>\n            <div className=\"pz-moment__button-wrapper\" style={{marginTop: 12, flexDirection: 'row', marginBottom: 0, justifyContent: 'left'}}>\n              {l}\n            </div>\n          )}\n          <div className=\"pz-moment__button-wrapper\" style={{marginTop: 12}}>\n            {/* {jumpToLevelButtons} */}\n            {/* <button onClick={props.onReset} type=\"button\" className=\"pz-moment__button primary\">Reset</button> */}\n            <button onClick={props.onCloseModal} type=\"button\" className=\"pz-moment__button secondary\" style={{marginBottom: 0}} >Cancel</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  return (<div id=\"portal-game-modals\">\n    <div className={modalSystemClasses}>\n      <div role=\"presentation\" className=\"sb-modal-scrim\">\n        <div className=\"sb-modal-wrapper\" onClick={props.onCloseModal}>\n          { props.rankingsOpen ? rankingsModal : undefined }\n          { props.resetOpen ? resetModal : undefined }\n          { props.jumpToLevelOpen ? jumpToLevelModal : undefined }\n        </div>\n      </div>\n    </div>\n  </div>);\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}